<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/362901d03019bc4c.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/01f63581d77a7b07.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-00b05e7397bd5c4e.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-cc48c28d170fddc2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-0a6331c18b0d37aa.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-715e3a652bc6b546.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-d7e0a94ebe194dac.js" async=""></script><script src="/_next/static/chunks/app/page-84b663e6d1625d16.js" async=""></script><script src="/_next/static/chunks/749-1aefd436964833c3.js" async=""></script><script src="/_next/static/chunks/app/layout-18f161c3adf8f2fa.js" async=""></script><title>JavaScript The Good Parts</title><meta name="description" content="Javascript The Good Parts notes."/><link rel="author" href="https://0xadada.pub"/><meta name="author" content="0xADADA"/><meta name="keywords" content="notes,software-engineering,JavaScript"/><link rel="alternate" type="application/rss+xml" href="https://0xadada.pub/rss.xml"/><meta property="og:title" content="JavaScript The Good Parts"/><meta property="og:description" content="Javascript The Good Parts notes."/><meta property="og:url" content="https://0xadada.pub/2015/11/15/javascript-the-good-parts/"/><meta property="og:site_name" content="0xADADA"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta property="og:image:width" content="660"/><meta property="og:image:height" content="660"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="JavaScript The Good Parts"/><meta name="twitter:description" content="Javascript The Good Parts notes."/><meta name="twitter:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta name="twitter:image:width" content="660"/><meta name="twitter:image:height" content="660"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="apple-touch-icon" href="/apple-icon.png?b764b3a1dbf00a82" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><main class="layout_layout__dCqca"><article class="hentry h-entry"><header><h1 class="entry-title p-name">JavaScript The Good Parts</h1><time class="display-date_published__A_L_d dt-published" dateTime="2015-11-15T00:00:00.000Z">Sunday November 15, 2015</time><span class="h-card page_byline__wbXsN"> by <span class="fn p-author p-name">0xADADA</span></span></header><div class="entry-content e-content"><p><em>Notes from the book: JavaScript: The Good Parts by Douglas Crockford</em></p>
<h2 id="index">Index</h2>
<ul>
<li><a href="#javascript-the-good-parts">JavaScript: The Good Parts</a>
<ul>
<li><a href="#primitives">Primitives</a></li>
<li><a href="#execution-flow">Execution Flow</a></li>
<li><a href="#equality">Equality</a></li>
<li><a href="#loops--enumeration">Loops / Enumeration</a></li>
<li><a href="#object-literals">Object Literals</a></li>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#delete">Delete</a></li>
<li><a href="#global-abatement">Global Abatement</a></li>
<li><a href="#reference">Reference</a></li>
<li><a href="#reflection">Reflection</a></li>
<li><a href="#functions">Functions</a></li>
<li><a href="#prototype">Prototype</a></li>
<li><a href="#function-invocation-pattern">Function Invocation Pattern</a></li>
<li><a href="#constructor-invocation-pattern">Constructor Invocation pattern</a></li>
<li><a href="#closure">Closure</a></li>
</ul>
</li>
<li><a href="#modules">Modules</a></li>
<li><a href="#wtf">WTF</a></li>
</ul>
<h2 id="javascript-the-good-parts">JavaScript: The Good Parts</h2>
<p>A walkthrough many of the useful code examples from Douglas Crockfords’ seminal
book,
<a href="http://shop.oreilly.com/product/9780596517748.do">JavaScript: The Good Parts</a>.</p>
<h3 id="primitives">Primitives</h3>
<p>JavaScript Reserved words:</p>
<pre><code class="language-javascript">abstract
boolean break byte
case catch char class const continue
debugger default delete do double
else enum export extends
false final finally float for function
goto
if implements import in instanceof int interface
long
native new null
package private protected public
return
short static super switch synchronized
this throw throws transient true try typeof
var volatile void
while with
</code></pre>
<p>Simple types</p>
<pre><code class="language-javascript">// Numbers: 1, 1.1, 1e10, 1e+10,
// Strings: &quot;Hello&quot;, &#x27;hello&#x27;
// Booleans: true, false
// null
// undefined
// Object
</code></pre>
<p>Built in values</p>
<pre><code class="language-javascript">true;
false;
null;
undefined;
NaN;
Infinity;
</code></pre>
<p>JavaScript represents all numbers internally as a 64-bit floating point value
(like Java’s <code>double</code>).</p>
<pre><code class="language-javascript">// integer
1 === 1.0; // true

// fraction
(0.1 ===
  0.1(
    // true

    // exponent: value is calculated by multiplying the part before the
    // e by 10 raised to the power of the part after the e.
    1 * 10,
  ) *
    (1 * 10)) ===
  1e2; // true
1e2 === 100; // true

// Infinity represents all values greater than:
1.7976931348623157e103;
typeof Infinity === &quot;number&quot;; // true
</code></pre>
<p>Numbers, strings and booleans are object like in that they have methods, but
they are immutable.</p>
<p>Arrays, functions, regular expressions and objects are Objects. A simple object:</p>
<pre><code class="language-javascript">// simple object literal
var an_object = {};
// simple object literal with 2 values (comma-separated)
var another_object = {
  my_value: 3.1,
  your_value: 3.2,
};
another_object.my_value == 3.1; // true

// attempts to access undefined properties will throw TypeError
another_object.fake.my_value; // Throws TypeError
// Prevent TypeError by testing that all attributes exist before accessing
(another_object.test &amp;&amp; another_object.test.test) || &quot;none&quot;; // &quot;none&quot;
</code></pre>
<p>Objects are class-free, which is to say that there is no constraint on the names
of its properties or their values. The object doesn’t need to be defined before
it is instantiated.</p>
<p>JavaScript has prototype linkage, meaning an object can inherit the properties
of another object. This can be used to reduce object initialization time, memory
consumption and increase code reuse.</p>
<h3 id="execution-flow">Execution Flow</h3>
<p>Execution and flow statements.</p>
<pre><code class="language-javascript">// Conditional statements: if and switch
// Looping statements: do, for, while
// Disruptive statements: break, continue, return, throw
</code></pre>
<p>Falsy values. When conditional expressions evaluate to these values, the
expression will result in <code>false</code>.</p>
<pre><code class="language-javascript">false;
null;
undefined;
(&quot;&quot;); // empty  string
0;
NaN;
</code></pre>
<p>Operators and statements of equality.</p>
<pre><code class="language-javascript">// Operator precedence
. [] ()                   // Refinement and invocation
delete new typeof + - !   // Unary operators
* / %                     // Multiplication, division, remainder
+ -                       // Addition/concatenation, subtraction
&gt;= &lt;= &gt; &lt;                 // Inequality
=== !==                   // Equality
&amp;&amp;                        // Logical and
||                        // Logical or
? :                       // Ternary
</code></pre>
<p>NaN</p>
<pre><code class="language-javascript">// NaN is a number value that is the result of an operation that
// cannot produce a normal result. It is not equal to anything else,
// including itself.
NaN == NaN; // false
NaN === NaN; // false

// Use isNaN to detect if a value is NaN
isNaN(NaN); // true
</code></pre>
<h3 id="equality">Equality</h3>
<p>Rule of thumb, the following expressions are all false using <code>===</code> or <code>!==</code> so
use these operators instead.</p>
<pre><code class="language-javascript">&quot;c&quot; + &quot;a&quot; + &quot;t&quot; === &quot;cat&quot;; // true
&quot;&quot; == &quot;0&quot;; // false
0 == &quot;&quot;; // true, both are falsy
0 == &quot;0&quot;; // true
false == &quot;false&quot;; // false
false == &quot;0&quot;; // true
false == undefined; // false
false == null; // false
null == undefined; // true
</code></pre>
<h3 id="loops--enumeration">Loops / Enumeration</h3>
<p>The <code>for in</code> statement can loop over all properties of an object, but will
include all object types (including functions) as well as all objects along the
prototype chain. The <code>for in</code> operator enumerates the property names on an
object.</p>
<pre><code class="language-javascript">var animal_names = {
    &#x27;dog&#x27;: &#x27;Piper&#x27;,
    &#x27;cat&#x27;: &#x27;Snookins&#x27;,
    &#x27;goat&#x27;: &#x27;Mr J&#x27;
};
for( var animal in animal_names ) {
    console.log( animal, animal_names[animal] );
}
&gt; dog Piper
&gt; cat Snookins
&gt; goat Mr J
</code></pre>
<p>It is important to know the names can be in any order and can be any type
including functions.</p>
<h3 id="object-literals">Object literals</h3>
<p>Object literal - pair of curly braces surrounding zero or more name: value
pairs.</p>
<pre><code class="language-javascript">var empty_object = {};
var stooge = {
  first_name: &quot;Jerome&quot;,
  last_name: &quot;Howard&quot;,
  nickname: &quot;Jer&quot;,
};
var jer1 = stooge[&quot;first_name&quot;];
console.log(jer1); // &quot;Jerome&quot;
var jer2 = stooge.first_name;
console.log(jer2); // &quot;Jerome&quot;
var jer3 = stooge.favorite &amp;&amp; stooge.favorite.color; // return undefined
console.log(jer3); // undefined
</code></pre>
<h3 id="arrays">Arrays</h3>
<p>Arrays have a length property.</p>
<pre><code class="language-javascript">var empty = [];
var numbers = [
  &quot;zero&quot;,
  &quot;one&quot;,
  &quot;two&quot;,
  &quot;three&quot;,
  &quot;four&quot;,
  &quot;five&quot;,
  &quot;six&quot;,
  &quot;seven&quot;,
  &quot;eight&quot;,
  &quot;nine&quot;,
];
empty.length &gt; 0;
numbers.length &gt; 10;
</code></pre>
<p>Objects have no length property</p>
<pre><code class="language-javascript">var numbers_object = {
  0: &quot;zero&quot;,
  1: &quot;one&quot;,
  2: &quot;two&quot;,
  3: &quot;three&quot;,
  4: &quot;four&quot;,
  5: &quot;five&quot;,
  6: &quot;six&quot;,
  7: &quot;seven&quot;,
  8: &quot;eight&quot;,
  9: &quot;nine&quot;,
};
numbers_object.length &gt; undefined;

var myArray = [];
myArray.length &gt; 0;
</code></pre>
<p>Arbitrary array indexes can be set, although there may not be items populating
the array before it.</p>
<pre><code class="language-javascript">// myArray = [];
myArray[1001] = true; // create and set value of index 1001 to true
console.log(myArray.length); // 1002 OMG!!

var arrayItemCount = 0;
for (var item in myArray) {
  arrayItemCount += 1;
}
console.log(&quot;myArray counted items: &quot; + arrayItemCount);
</code></pre>
<p>To delete from an array, use <code>Array.splice()</code>. This function takes 3 arguments,
<code>start</code> the index to start adding/removing items, <code>deleteCount</code> the number of
items to remove/replace, and finally n-arguments for the addition n-items to add
to the array.</p>
<pre><code class="language-javascript">var animals = [&quot;cat&quot;, &quot;dog&quot;, &quot;pork&quot;, &quot;pig&quot;, &quot;fish&quot;];

// remove &#x27;pork&#x27;
a.splice(2, 1);
// removed &#x27;pork&#x27;
a &gt; [&quot;cat&quot;, &quot;dog&quot;, &quot;pig&quot;, &quot;fish&quot;];

// add &#x27;snake&#x27; before item 2.
a.splice(2, 0, &quot;snake&quot;) &gt; [&quot;cat&quot;, &quot;dog&quot;, &quot;snake&quot;, &quot;pig&quot;, &quot;fish&quot;];
</code></pre>
<p>viola!</p>
<h3 id="delete">Delete</h3>
<p>The <code>delete</code> operator removes a property from an object. If will not remove the
property if it only exists on parent objects along the prototype chain. It is
useful for removing the property from a leaf object so that the property along
the prototype chain is used.</p>
<h3 id="global-abatement">Global Abatement</h3>
<p>Global variables in general weaken the portability and resiliency of programs,
but in the case they’re necessary, aim to limit them to a single global
variable. This is done by attaching all properties to a single global variable.</p>
<pre><code class="language-javascript">var MYAPP = {};
MYAPP.views = {};
</code></pre>
<p>This will reduce namespace or scope collisions with other applications or
libraries.</p>
<h3 id="reference">Reference</h3>
<p>JavaScript passes objects around by reference, never by value.</p>
<pre><code class="language-javascript">var x = {
  fn: &quot;Jerome&quot;,
  ln: &quot;Howard&quot;,
  nn: &quot;Jer&quot;,
};
var y = x.nn; // new variable value: &#x27;Jer&#x27;
x.nn = &quot;curly&quot;;
console.log(y); // &#x27;curly&#x27;
</code></pre>
<h3 id="reflection">Reflection</h3>
<p>Reflection is the ability of a program to introspect is own code at runtime.</p>
<p>Javascript offers the <code>typeof</code> operator to check the type of a property, and
<code>hasOwnProperty()</code> which return true if the property exists directly on an
object, false if it does not (and possibly exists up the prototype chain.)</p>
<pre><code class="language-javascript">var a_var = &quot;a message&quot;;
typeof a_var;
&gt; &#x27;string&#x27;

var an_object = {
    a_prop: true;
};
an_object.hasOwnProperty(&#x27;a_prop&#x27;);
&gt; true
</code></pre>
<h3 id="functions">Functions</h3>
<blockquote>
<p>”The craft of programming is the factoring of a set of requirements into a set
of functions and data structures.” <cite>Douglas Crockford</cite></p>
</blockquote>
<p>Functions encapsulate a set of statements. They enable code reuse, information
hiding and behavior composition.</p>
<p>Functions in JavaScript are objects. Objects are collections of name-value pairs
that have a hidden prototype link to <code>Object.prototype</code>. The Objects produced
from object literals are linked to <code>Object.prototype</code>. Function objects are
linked to <code>Function.prototype</code>– which is linked to <code>Object.prototype</code>.
Functions are also created with two additional hidden properties: the function’s
execution context (lexical scope) and the source code that implements the
function.</p>
<p>Functions have a <code>prototype</code> property whos value is an object with a
<code>constructor</code> property whos value is the function. This is distinct from the
hidden link to <code>Function.prototype</code>. [](#ToDo: this needs to be fleshed-out in
more detail)</p>
<p>When invoked, functions receive two additional parameters: <code>this</code> and
<code>arguments</code>. The value of <code>this</code> depends on how the function was invoked
(invoked as method, invoked as function, invoked as constructor, and invoked as
apply). The value of <code>arguments</code> is an array-like object (in that the object has
a <code>length</code> property) of all parameters passed to the function when invoked.</p>
<h4 id="method-invocation-pattern">Method Invocation Pattern</h4>
<p>When a function is created as a property of an object, it is called a method.
When a method is invoked, it is bound to the object it is a property of. You can
tell a function is invoked as a method when it uses a refinement; a <code>.</code> notation
to call the function.</p>
<p>Functions invoked as a method can access the bound object using the <code>this</code>
reference to access other properties and values on that object. The methods
<code>this</code> object is late-bound at function invocation time. This makes methods that
make references to <code>this</code> more portable. These type of objects are called public
methods.</p>
<pre><code class="language-javascript">var myObj = {
  value: 2,
  increment: function (inc) {
    this.value += typeof inc === &quot;number&quot; ? inc : 1;
  },
};
</code></pre>
<p>The binding of <code>this</code> happens very late, at invocation time. A method can use
<code>this</code> to retrieve values from the object, or modify the object.</p>
<p>Crockford introduces the <code>method</code> method, it is used throughout the book to
define new methods on existing objects. Crockford attaches it to the <code>Function</code>
prototype, so it is available to all objects.</p>
<pre><code class="language-javascript">Function.prototype.method = function (name, func) {
  this.prototype[name] = func;
  return this;
};
</code></pre>
<p>A use of the <code>method</code> method would be to define a new function <code>predictLength</code>
on the String object. This function will return the predicted length a string
when concatenated with the existing string.</p>
<pre><code class="language-javascript">// use Crockfords&#x27; `method` method on the `String` object.
String.method(&quot;predictLength&quot;, function (arg) {
  var len = this.length,
    argLen = arg.len,
    nextLen = len + argLen;
  var message = &quot;Predicted length is %0 for string &#x27;%1&#x27;&quot;
    .replace(&quot;%0&quot;, nextLen)
    .replace(&quot;%1&quot;, arg);
  console.log(message);
  return nextLen;
});
</code></pre>
<h4 id="function-invocation-pattern">Function Invocation Pattern</h4>
<p>When a function is not a property of an object, it is invoked directly as a
function:</p>
<pre><code class="language-javascript">var sum = add(3, 4);
</code></pre>
<p>Any function invoked in this pattern, the <code>this</code> value is bound to the global
object. This becomes confusing for many developers when defining objects with
sub-functions that expect the value of the <code>this</code> value to refer to the
containing object. A example of problematic code illustrates:</p>
<pre><code class="language-javascript">var brokenObj = {
  value: 2,
  double: function () {
    var helper = function () {
      // broken, the value of `this` in `this.value` refers to the global
      // Object, not `brokenObj`.
      this.value = this.value * 2; // fails, global Object.value set to NaN
    };
    helper();
  },
};
</code></pre>
<h4 id="constructor-invocation-pattern">Constructor Invocation Pattern</h4>
<p>If a function is invoked with the <code>new</code> prefix e.g.
<code>var x = new Status(&#x27;confused&#x27;)</code>, then a new object is created and returned with
a link to the value of the function’s <code>prototype</code> property. The value of <code>this</code>
is bound to the new object.</p>
<pre><code class="language-javascript">var Status = function (status) {
  this.status = status;
  this.valueOf = function () {
    console.info(`status ${this.status}`);
    return this.status;
  };
};
var happy = new Status(&quot;happy&quot;);
typeof Status === &quot;function&quot;; // true
typeof happy === &quot;object&quot;; // true
happy.valueOf() === &quot;happy&quot;; // true
(&quot;status happy&quot;);
true;
</code></pre>
<h4 id="apply-invocation-pattern">Apply Invocation Pattern</h4>
<p>The <code>apply</code> method is available on every function. In the constructor invocation
pattern above, the <code>valueOf</code> method was bound to the local object. Instead, the
the <code>apply</code> method allows the developer supply an arbitrary value for <code>this</code>, in
effect allowing the developer to apply the method to any object rather than to
the object it is currently bound too.</p>
<pre><code class="language-javascript">var DoMath = function (x, y) {
  this.x = x;
  this.y = y;
  this.sum = function () {
    return this.x + this.y;
  };
};
var oneTwo = new DoMath(1, 2);
oneTwo.sum() === 3; // true

// now we can force sum() to reference an object that we pass to the apply() method
var threeFour = {
  x: 3,
  y: 4,
};
oneTwo.sum.apply(threeFour, null);
7;
</code></pre>
<h3 id="prototype">Prototype</h3>
<p>Every object is linked to a prototype from which it inherits properties. All
objects created with object literal syntax are linked to <code>Object.prototype</code>.
When creating new objects, we can select which object it inherits from. We can
use a method named <code>Object.create</code> to implement this behavior.</p>
<p><code>Object.create</code></p>
<pre><code class="language-javascript">if (typeof Object.create !== &quot;function&quot;) {
  Object.create = function (o) {
    var F = function () {};
    F.prototype = o;
    return new F();
  };
}
</code></pre>
<p>The prototype link is used only in retrieval. If we try to retrieve a property
value from an object, it will either return the value on the object itself, or
look up to <strong>its</strong> prototype, and so on, until the lookup finds the property or
<code>undefined</code> is returned if nowhere along the prototype chain nor
<code>Object.prototype</code> has the property. This is called prototype retrieval
delegation.</p>
<p>If properties are added to a prototype, all children of that prototype will
immediately be available.</p>
<p>To determine if an object has a property directly, without invoking the
prototype chain, use <code>hasOwnProperty</code>.</p>
<pre><code class="language-javascript">var ob = {};
ob.hasOwnProperty(&#x27;newProperty&#x27;);
&gt; false
eb.newProperty = &quot;a value&quot;;
ob.hasOwnProperty(&#x27;newProperty&#x27;);
&gt; true
</code></pre>
<p>Prototypal inheritance</p>
<pre><code class="language-javascript">// differential inheritance
var Mammal = {
  name: &quot;A Mammal&quot;,
  says: &quot;Noise&quot;,
  get_name: function () {
    return this.name;
  },
  speak: function () {
    return this.says || &quot;&quot;;
  },
};
var myCat = Object.create(Mammal);
myCat.name = &quot;Henrietta&quot;;
myCat.says = &quot;meow&quot;;
myCat.purr = function (n) {
  var i,
    s = &quot;&quot;;
  for (i = 0; i &lt; n; i += 1) {
    if (s) {
      s += &quot;-&quot;;
    }
    s += &quot;r&quot;;
  }
  return s;
};
myCat.get_name = function () {
  return this.speak() + &quot; &quot; + this.name + &quot; &quot; + this.speak();
};
</code></pre>
<p>For-in loops</p>
<pre><code class="language-javascript">var stooge_2 = Object.create(stooge);
stooge_2.first_name = &quot;Harry&quot;;
stooge_2.last_name = &quot;Moses&quot;;
stooge_2.nickname = &quot;John&quot;;
for (var name in stooge_2) {
  console.log(stooge_2[name]);
}

delete stooge_2.nickname;
console.log(stooge_2.nickname); // &#x27;curly&#x27;

// Method invocation pattern
console.log(&quot;===== Method invocation pattern ====&quot;);
var myObject = {
  value: 0,
  increment: function (inc) {
    this.value += typeof inc === &quot;number&quot; ? inc : 1;
  },
};

myObject.increment();
console.log(myObject.value); // 1
myObject.increment(2);
console.log(myObject.value); // 3
</code></pre>
<h3 id="function-invocation-pattern-1">Function invocation pattern</h3>
<pre><code class="language-javascript">myObject.double = function () {
  var that = this; // global this mis-assignment fix
  var helper = function () {
    that.value = that.value * 2;
  };
  helper(); // invoke helper as a function
};
// invoke double as a method
myObject.double();
myObject.value &gt; 6;
</code></pre>
<h3 id="constructor-invocation-pattern-1">Constructor Invocation pattern</h3>
<pre><code class="language-javascript">var Quo = function (string) {
  this.status = string;
};
Quo.prototype.get_status = function () {
  return this.status;
};
var myQuo = new Quo(&quot;confused&quot;);
console.log(myQuo.get_status()); // &#x27;confused&#x27;

// Apply Invocation pattern
console.log(&quot;===== Apply Invocation pattern =====&quot;);
var statusObject = {
  status: &quot;A-OK&quot;,
};
// invoke the get_status method from Quo on our statusObject
var status = Quo.prototype.get_status.apply(statusObject);
console.log(status); // &#x27;A-OK&#x27;

// Function Parameters
console.log(&quot;===== Function Parameters =====&quot;);
var sum = function () {
  var i,
    sum = 0;
  for (i = 0; i &lt; arguments.length; i += 1) {
    sum += arguments[i];
  }
  return sum;
};
console.log(sum(4, 8, 15, 16, 23, 42)); // 108

// Exceptions
var add = function (a, b) {
  if (typeof a !== &quot;number&quot; || typeof b !== &quot;number&quot;) {
    throw {
      // throw an object with a name and message property
      name: &quot;TypeError&quot;,
      message: &quot;add need numbers&quot;,
    };
  }
  debugger;
  return a + b;
};
var try_it = function () {
  try {
    add(&quot;seven&quot;);
  } catch (e) {
    console.log(&quot;name: &quot; + e.name + &quot; msg: &quot; + e.message);
  }
};
try_it();
</code></pre>
<p>Object augmentation</p>
<pre><code class="language-javascript">Function.prototype.method = function (name, func) {
  // add arbitrary functions with name name to our Object.
  this.prototype[name] = func;
  return this;
};
Number.method(&quot;integer&quot;, function () {
  return Math[this &lt; 0 ? &quot;ceil&quot; : &quot;floor&quot;](this);
});
console.log((-10 / 3).integer()); // -3
</code></pre>
<h3 id="lexical-scope">Lexical Scope</h3>
<p>Lexical scope is the availability of variables to an executing block of code.
JavaScript lexical scope is determined by resolving objects in the immediate
lexical scope, then moving up the chain until it reaches the variables defined
in the global scope.</p>
<pre><code class="language-javascript">var foo = function() {
    var a = 3,
        b = 5;
    var bar = function() {
        var b = 7,  // define local b
            c = 11; // define local c
        // a = 3, b = 7, c = 11
        console.log(&#x27;a&#x27;, a, &#x27;b&#x27;, b, &#x27;c&#x27;, c);
        a += b + c; // 3 + 7 + 11
        // a = 21, b = 7, c = 11
        console.log(&#x27;a&#x27;, a, &#x27;b&#x27;, b, &#x27;c&#x27;, c);
    };
    // now: a = 3, b = 5, c = undefined
    console.log(&#x27;a&#x27;, a, &#x27;b&#x27;, b);
    bar();
    // a = 21, b = 5
    console.log(&#x27;a&#x27;, a, &#x27;b&#x27;, b);
};
foo();
&gt; a 3 b 5
&gt; a 3 b 7 c 11
&gt; a 21 b 7 c 11
&gt; a 21 b 5
</code></pre>
<h3 id="closure">Closure</h3>
<p>A closure is a reference to a function as well as the runtime environment of the
function. This includes any variables within the lexical scope of the function.</p>
<pre><code class="language-javascript">// addN returns a function that adds its argument.
var addN = function (x) {
  // x and the function below are in the same lexical scope
  return function (y) {
    return x + y;
  };
};

// add3: Return a function that adds 3 to its argument
var add3 = addN(3);
// add5: Return a function that adds 3 to its argument
var add5 = addN(5);
var resultOfAdd3 = add3(4); // 7
var resultOfAdd5 = add5(4); // 8
resultOfAdd3 &gt; 7;
resultOfAdd5 &gt; 8;
</code></pre>
<p>Additional examples of closures in JavaScript:</p>
<pre><code class="language-javascript">var closureObject = (function() {
    var y = 0; // this variables lifetime is always available to
               // functions in the same lexical scope.
    return {
        increment: function(x) {
            y += typeof incrementBy === &#x27;number&#x27; ?
                x :
                1;
        },
        getValue: function() {
            return y;
        }
    }
}());
// Assign the result of returning a self-executing function to
// closureObject.
// The function returns an object with 2 methods, each
// maintains access to the `y` variable.
closureObject.increment(3);
closureObject.getValue();
&gt; 3

// Demonstrates the preservation of the lexical scope of execution.
var quo = function(status) {
    return {
        get_status: function() {
            return status;
        }
    };
};
var newQuo = quo(&#x27;amazed!&#x27;);
// newQuo still has access to the status parameter even after
// execution has ended and the lifetime of its lexical scope has ended.
// This is possible because the function has access to the lexical
// scope in which it was created. This is called a closure.
newQuo.get_status();
&gt; &#x27;amazed!&#x27;
</code></pre>
<p>Closure can be useful for things such as callbacks used in animation.</p>
<pre><code class="language-javascript">var fade = function (node) {
  var level = 1;
  var step = function () {
    var hex = level.toString(16);
    var colorValue = &quot;#ffff&quot; + hex + hex;
    node.style.backgroundColor = colorValue;
    console.log(&quot;level &quot; + level + &quot; backgroundColor: &quot; + colorValue);
    // step() maintains access to &#x27;level&#x27; variable outside its execution scope via Closure.
    if (level &lt; 15) {
      level += 1;
      setTimeout(step, 100);
    }
  };
  setTimeout(step, 100);
};
fade(document.body);
</code></pre>
<p>Using closure and setTimout to increment a local variable.</p>
<pre><code class="language-javascript">for (var i = 0; i &lt;= 10; i++) {
  (function (i) {
    setTimeout(function () {
      console.log(i);
    }, 1000 * i);
  })(i);
}
</code></pre>
<h2 id="modules">Modules</h2>
<blockquote>
<p>A module is a function or object that presents an interface but that hides its
state and implementation.<br/>
—<cite>Douglas Crockford</cite></p>
</blockquote>
<p>Modules exist because developers <em>want</em> to write code in discrete JavaScript
files, while [web] deployment <em>wants</em> optimized code in as few HTTP requests as
possible. These interests are add odds with one another.</p>
<p>Modules aim to encapsulate a piece of code into a useful unit, and register its
capability/export a value for the module.</p>
<blockquote>
<p>The general pattern of a module is a function that defines private variables
and functions; creates privileged function which, through closure, will have
access to the private variables an functions; and that returns the privileged
functions or stores them in an accessible place.<br/>
—<cite>Douglas Crockford</cite></p>
</blockquote>
<p>Douglas then defines a simple module using the function-closure pattern, which
returns an anonymous function to a global variable where the module will be
referenced.</p>
<pre><code class="language-javascript">// SayModule: A function that simply console.log&#x27;s its argument.
var SayModule = ( function() {
    var message = &#x27;You said: {0}&#x27;;
    return function(arg) {
        console.log( message.replace( &#x27;{0}&#x27;, arg ) );
        return arg;
    }
}() );

var whatSaid = SayModule(&quot;hello world!&quot;);
&gt; You said: hello world!
&gt; &#x27;hello world!&#x27;
whatSaid
&gt; &#x27;hello world!&#x27;
</code></pre>
<p>With many of these, module scripts are strung together in the DOM with
namespaces being described by a single global object where it’s still possible
to incur naming collisions in the architecture.</p>
<p>CommonJS is a set of conventions used to define how JavaScript modules are used
and packaged. It defines the Module specification. This describes how code can
fetch and include external modules as a dependency using the <code>require(&quot;&lt;name&gt;&quot;)</code>
function. It also defines how authors export their code either by reassigning a
<code>module.exports</code> object, or adding properties to an <code>exports</code> variable. CommonJS
is most often used for synchronous loading of dependencies on server-side
systems such as Node.js.</p>
<p>AMD (Asynchronous Module Definition) is another specification for modules.
RequireJS is probably the most popular implementation of AMD. RequireJS was
designed to asynchronously load modules in a browser context. RequireJS
implements AMD, which is designed to suit the async nature of a browser.
RequireJS implements a <code>define()</code> function that allows the module to declare its
dependencies before being loaded. RequireJS can easily be wrapped by CommonJS
such that CommonJS modules can easily be included using RequireJS.</p>
<p><a href="http://browserify.org/">Browserify</a> is a CommonJS Module implementation that
can run in the browser. Browserify introspects JavaScript use of the CommonJS
<code>require()</code> function and builds a “bundle” that can be served in a single HTML
<code>&lt;script&gt;</code> tag.</p>
<p><a href="http://webpack.github.io/docs/what-is-webpack.html">webpack</a> is a module
bundler that aims to understand the needs of the developer as well as solve the
problems of delivering code modules efficiently in the browser. webpack uses an
opinionated configuration-over-code approach (similar to Grunt, but with more
opinions) vs Gulp, which requires much more manual wiring.</p>
<h2 id="wtf">WTF</h2>
<pre><code class="language-javascript">0.1 + 0.2 // 0.3? NOPE!
&gt; 0.30000000000000004

x = 1.0000000000000001
x === 1
true // Huh?

y = {}
&gt; y[[]] = 1
&gt; Object.keys(y)
[ &#x27;&#x27; ] // HuH?
</code></pre></div><footer class="license_copyright__EpMnZ">This is licensed under a Creative Commons <!-- -->cc-by-nc-sa<!-- --> International License</footer></article></main><footer class="footer_footer__woFMY layout_layout__dCqca"><nav><p>© 2003-<!-- -->2024<!-- --> 0xADADA (unless otherwise noted.)<br/><span class="h-card"><span class="p-note" hidden="">0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. 🧑‍💻🔧🚗✍️🔒</span><a class="u-url u-uid" title="0xADADA" href="https://0xadada.pub/">0xADADA</a> <a class="c-Meta u-email" rel="me" title="0xADADA" href="mailto:0xadada.pub@protonmail.com">Email</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Warpcast" href="https://warpcast.com/0xadada">Farcaster</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Mastodon" href="https://mastodon.cloud/@0xADADA">Mastodon</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Bluesky" href="https://bsky.app/profile/0xadada.bsky.social">Bluesky</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Twitter" href="https://twitter.com/0xadada"><del>Twitter</del></a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on GitHub" href="https://github.com/0xadada">GitHub</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Goodreads" href="https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted">Goodreads</a> <a href="/colophon/">Colophon</a> <a href="/rss.xml">RSS</a> <img alt="0xADADA icon" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="u-photo" style="color:transparent;margin-bottom:-0.125rem" src="/static/images/meta/avatar.svg"/></span></p></nav><form action="https://buttondown.email/api/emails/embed-subscribe/0xadada" method="post" target="popupwindow"><label for="email">Sign up to get emailed when I write new things:<!-- --> </label><input type="email" id="email" name="email"/><input type="submit" value="Subscribe"/></form></footer><script src="/_next/static/chunks/webpack-00b05e7397bd5c4e.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/362901d03019bc4c.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/01f63581d77a7b07.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[5250,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"931\",\"static/chunks/app/page-84b663e6d1625d16.js\"],\"\"]\nb:I[1749,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"749\",\"static/chunks/749-1aefd436964833c3.js\",\"185\",\"static/chunks/app/layout-18f161c3adf8f2fa.js\"],\"Image\"]\nd:I[8955,[],\"\"]\n8:[\"slug\",\"2015/11/15/javascript-the-good-parts\",\"c\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/362901d03019bc4c.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"GaxrhztPHq7xIG-BLVG9u\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/2015/11/15/javascript-the-good-parts/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"2015/11/15/javascript-the-good-parts\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2015\\\",\\\"11\\\",\\\"15\\\",\\\"javascript-the-good-parts\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"2015/11/15/javascript-the-good-parts\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/01f63581d77a7b07.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en-US\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"main\",null,{\"className\":\"layout_layout__dCqca\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"footer_footer__woFMY layout_layout__dCqca\",\"children\":[[\"$\",\"nav\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"© 2003-\",\"2024\",\" 0xADADA (unless otherwise noted.)\",[\"$\",\"br\",null,{}],[\"$\",\"span\",null,{\"className\":\"h-card\",\"children\":[[\"$\",\"span\",null,{\"className\":\"p-note\",\"hidden\":true,\"children\":\"0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. 🧑‍💻🔧🚗✍️🔒\"}],[\"$\",\"$La\",null,{\"className\":\"u-url u-uid\",\"href\":\"https://0xadada.pub/\",\"title\":\"0xADADA\",\"children\":\"0xADADA\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"mailto:0xadada.pub@protonmail.com\",\"className\":\"c-Meta u-email\",\"rel\":\"me\",\"title\":\"0xADADA\",\"children\":\"Email\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://warpcast.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Warpcast\",\"children\":\"Farcaster\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://mastodon.cloud/@0xADADA\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Mastodon\",\"children\":\"Mastodon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://bsky.app/profile/0xadada.bsky.social\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Bluesky\",\"children\":\"Bluesky\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Twitter\",\"children\":[\"$\",\"del\",null,{\"children\":\"Twitter\"}]}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on GitHub\",\"children\":\"GitHub\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Goodreads\",\"children\":\"Goodreads\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/colophon/\",\"children\":\"Colophon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/rss.xml\",\"children\":\"RSS\"}],\" \",[\"$\",\"$Lb\",null,{\"className\":\"u-photo\",\"src\":\"/static/images/meta/avatar.svg\",\"alt\":\"0xADADA icon\",\"width\":\"20\",\"height\":\"20\",\"style\":{\"marginBottom\":\"-0.125rem\"}}]]}]]}]}],[\"$\",\"form\",null,{\"action\":\"https://buttondown.email/api/emails/embed-subscribe/0xadada\",\"method\":\"post\",\"target\":\"popupwindow\",\"children\":[[\"$\",\"label\",null,{\"htmlFor\":\"email\",\"children\":[\"Sign up to get emailed when I write new things:\",\" \"]}],[\"$\",\"input\",null,{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\"}],[\"$\",\"input\",null,{\"type\":\"submit\",\"value\":\"Subscribe\"}]]}]]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"f:T47f,"])</script><script>self.__next_f.push([1,"var Quo = function (string) {\n  this.status = string;\n};\nQuo.prototype.get_status = function () {\n  return this.status;\n};\nvar myQuo = new Quo(\"confused\");\nconsole.log(myQuo.get_status()); // 'confused'\n\n// Apply Invocation pattern\nconsole.log(\"===== Apply Invocation pattern =====\");\nvar statusObject = {\n  status: \"A-OK\",\n};\n// invoke the get_status method from Quo on our statusObject\nvar status = Quo.prototype.get_status.apply(statusObject);\nconsole.log(status); // 'A-OK'\n\n// Function Parameters\nconsole.log(\"===== Function Parameters =====\");\nvar sum = function () {\n  var i,\n    sum = 0;\n  for (i = 0; i \u003c arguments.length; i += 1) {\n    sum += arguments[i];\n  }\n  return sum;\n};\nconsole.log(sum(4, 8, 15, 16, 23, 42)); // 108\n\n// Exceptions\nvar add = function (a, b) {\n  if (typeof a !== \"number\" || typeof b !== \"number\") {\n    throw {\n      // throw an object with a name and message property\n      name: \"TypeError\",\n      message: \"add need numbers\",\n    };\n  }\n  debugger;\n  return a + b;\n};\nvar try_it = function () {\n  try {\n    add(\"seven\");\n  } catch (e) {\n    console.log(\"name: \" + e.name + \" msg: \" + e.message);\n  }\n};\ntry_it();\n"])</script><script>self.__next_f.push([1,"10:T465,"])</script><script>self.__next_f.push([1,"var closureObject = (function() {\n    var y = 0; // this variables lifetime is always available to\n               // functions in the same lexical scope.\n    return {\n        increment: function(x) {\n            y += typeof incrementBy === 'number' ?\n                x :\n                1;\n        },\n        getValue: function() {\n            return y;\n        }\n    }\n}());\n// Assign the result of returning a self-executing function to\n// closureObject.\n// The function returns an object with 2 methods, each\n// maintains access to the `y` variable.\nclosureObject.increment(3);\nclosureObject.getValue();\n\u003e 3\n\n// Demonstrates the preservation of the lexical scope of execution.\nvar quo = function(status) {\n    return {\n        get_status: function() {\n            return status;\n        }\n    };\n};\nvar newQuo = quo('amazed!');\n// newQuo still has access to the status parameter even after\n// execution has ended and the lifetime of its lexical scope has ended.\n// This is possible because the function has access to the lexical\n// scope in which it was created. This is called a closure.\nnewQuo.get_status();\n\u003e 'amazed!'\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"hentry h-entry\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"entry-title p-name\",\"children\":\"JavaScript The Good Parts\"}],\"$undefined\",[\"$\",\"time\",null,{\"className\":\"display-date_published__A_L_d dt-published\",\"dateTime\":\"2015-11-15T00:00:00.000Z\",\"children\":\"Sunday November 15, 2015\"}],[\"$\",\"span\",null,{\"className\":\"h-card page_byline__wbXsN\",\"children\":[\" by \",[\"$\",\"span\",null,{\"className\":\"fn p-author p-name\",\"children\":\"0xADADA\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"entry-content e-content\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Notes from the book: JavaScript: The Good Parts by Douglas Crockford\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"index\",\"children\":\"Index\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#javascript-the-good-parts\",\"children\":\"JavaScript: The Good Parts\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#primitives\",\"children\":\"Primitives\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#execution-flow\",\"children\":\"Execution Flow\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#equality\",\"children\":\"Equality\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#loops--enumeration\",\"children\":\"Loops / Enumeration\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#object-literals\",\"children\":\"Object Literals\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#arrays\",\"children\":\"Arrays\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#delete\",\"children\":\"Delete\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#global-abatement\",\"children\":\"Global Abatement\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#reference\",\"children\":\"Reference\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#reflection\",\"children\":\"Reflection\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#functions\",\"children\":\"Functions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#prototype\",\"children\":\"Prototype\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#function-invocation-pattern\",\"children\":\"Function Invocation Pattern\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#constructor-invocation-pattern\",\"children\":\"Constructor Invocation pattern\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#closure\",\"children\":\"Closure\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#modules\",\"children\":\"Modules\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#wtf\",\"children\":\"WTF\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"javascript-the-good-parts\",\"children\":\"JavaScript: The Good Parts\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A walkthrough many of the useful code examples from Douglas Crockfords’ seminal\\nbook,\\n\",[\"$\",\"a\",null,{\"href\":\"http://shop.oreilly.com/product/9780596517748.do\",\"children\":\"JavaScript: The Good Parts\"}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"primitives\",\"children\":\"Primitives\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"JavaScript Reserved words:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"abstract\\nboolean break byte\\ncase catch char class const continue\\ndebugger default delete do double\\nelse enum export extends\\nfalse final finally float for function\\ngoto\\nif implements import in instanceof int interface\\nlong\\nnative new null\\npackage private protected public\\nreturn\\nshort static super switch synchronized\\nthis throw throws transient true try typeof\\nvar volatile void\\nwhile with\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Simple types\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// Numbers: 1, 1.1, 1e10, 1e+10,\\n// Strings: \\\"Hello\\\", 'hello'\\n// Booleans: true, false\\n// null\\n// undefined\\n// Object\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Built in values\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"true;\\nfalse;\\nnull;\\nundefined;\\nNaN;\\nInfinity;\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"JavaScript represents all numbers internally as a 64-bit floating point value\\n(like Java’s \",[\"$\",\"code\",null,{\"children\":\"double\"}],\").\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// integer\\n1 === 1.0; // true\\n\\n// fraction\\n(0.1 ===\\n  0.1(\\n    // true\\n\\n    // exponent: value is calculated by multiplying the part before the\\n    // e by 10 raised to the power of the part after the e.\\n    1 * 10,\\n  ) *\\n    (1 * 10)) ===\\n  1e2; // true\\n1e2 === 100; // true\\n\\n// Infinity represents all values greater than:\\n1.7976931348623157e103;\\ntypeof Infinity === \\\"number\\\"; // true\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Numbers, strings and booleans are object like in that they have methods, but\\nthey are immutable.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Arrays, functions, regular expressions and objects are Objects. A simple object:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// simple object literal\\nvar an_object = {};\\n// simple object literal with 2 values (comma-separated)\\nvar another_object = {\\n  my_value: 3.1,\\n  your_value: 3.2,\\n};\\nanother_object.my_value == 3.1; // true\\n\\n// attempts to access undefined properties will throw TypeError\\nanother_object.fake.my_value; // Throws TypeError\\n// Prevent TypeError by testing that all attributes exist before accessing\\n(another_object.test \u0026\u0026 another_object.test.test) || \\\"none\\\"; // \\\"none\\\"\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Objects are class-free, which is to say that there is no constraint on the names\\nof its properties or their values. The object doesn’t need to be defined before\\nit is instantiated.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"JavaScript has prototype linkage, meaning an object can inherit the properties\\nof another object. This can be used to reduce object initialization time, memory\\nconsumption and increase code reuse.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"execution-flow\",\"children\":\"Execution Flow\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Execution and flow statements.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// Conditional statements: if and switch\\n// Looping statements: do, for, while\\n// Disruptive statements: break, continue, return, throw\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Falsy values. When conditional expressions evaluate to these values, the\\nexpression will result in \",[\"$\",\"code\",null,{\"children\":\"false\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"false;\\nnull;\\nundefined;\\n(\\\"\\\"); // empty  string\\n0;\\nNaN;\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Operators and statements of equality.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// Operator precedence\\n. [] ()                   // Refinement and invocation\\ndelete new typeof + - !   // Unary operators\\n* / %                     // Multiplication, division, remainder\\n+ -                       // Addition/concatenation, subtraction\\n\u003e= \u003c= \u003e \u003c                 // Inequality\\n=== !==                   // Equality\\n\u0026\u0026                        // Logical and\\n||                        // Logical or\\n? :                       // Ternary\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"NaN\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// NaN is a number value that is the result of an operation that\\n// cannot produce a normal result. It is not equal to anything else,\\n// including itself.\\nNaN == NaN; // false\\nNaN === NaN; // false\\n\\n// Use isNaN to detect if a value is NaN\\nisNaN(NaN); // true\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"equality\",\"children\":\"Equality\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Rule of thumb, the following expressions are all false using \",[\"$\",\"code\",null,{\"children\":\"===\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"!==\"}],\" so\\nuse these operators instead.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"\\\"c\\\" + \\\"a\\\" + \\\"t\\\" === \\\"cat\\\"; // true\\n\\\"\\\" == \\\"0\\\"; // false\\n0 == \\\"\\\"; // true, both are falsy\\n0 == \\\"0\\\"; // true\\nfalse == \\\"false\\\"; // false\\nfalse == \\\"0\\\"; // true\\nfalse == undefined; // false\\nfalse == null; // false\\nnull == undefined; // true\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"loops--enumeration\",\"children\":\"Loops / Enumeration\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"for in\"}],\" statement can loop over all properties of an object, but will\\ninclude all object types (including functions) as well as all objects along the\\nprototype chain. The \",[\"$\",\"code\",null,{\"children\":\"for in\"}],\" operator enumerates the property names on an\\nobject.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var animal_names = {\\n    'dog': 'Piper',\\n    'cat': 'Snookins',\\n    'goat': 'Mr J'\\n};\\nfor( var animal in animal_names ) {\\n    console.log( animal, animal_names[animal] );\\n}\\n\u003e dog Piper\\n\u003e cat Snookins\\n\u003e goat Mr J\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"It is important to know the names can be in any order and can be any type\\nincluding functions.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"object-literals\",\"children\":\"Object literals\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Object literal - pair of curly braces surrounding zero or more name: value\\npairs.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var empty_object = {};\\nvar stooge = {\\n  first_name: \\\"Jerome\\\",\\n  last_name: \\\"Howard\\\",\\n  nickname: \\\"Jer\\\",\\n};\\nvar jer1 = stooge[\\\"first_name\\\"];\\nconsole.log(jer1); // \\\"Jerome\\\"\\nvar jer2 = stooge.first_name;\\nconsole.log(jer2); // \\\"Jerome\\\"\\nvar jer3 = stooge.favorite \u0026\u0026 stooge.favorite.color; // return undefined\\nconsole.log(jer3); // undefined\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"arrays\",\"children\":\"Arrays\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Arrays have a length property.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var empty = [];\\nvar numbers = [\\n  \\\"zero\\\",\\n  \\\"one\\\",\\n  \\\"two\\\",\\n  \\\"three\\\",\\n  \\\"four\\\",\\n  \\\"five\\\",\\n  \\\"six\\\",\\n  \\\"seven\\\",\\n  \\\"eight\\\",\\n  \\\"nine\\\",\\n];\\nempty.length \u003e 0;\\nnumbers.length \u003e 10;\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Objects have no length property\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var numbers_object = {\\n  0: \\\"zero\\\",\\n  1: \\\"one\\\",\\n  2: \\\"two\\\",\\n  3: \\\"three\\\",\\n  4: \\\"four\\\",\\n  5: \\\"five\\\",\\n  6: \\\"six\\\",\\n  7: \\\"seven\\\",\\n  8: \\\"eight\\\",\\n  9: \\\"nine\\\",\\n};\\nnumbers_object.length \u003e undefined;\\n\\nvar myArray = [];\\nmyArray.length \u003e 0;\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Arbitrary array indexes can be set, although there may not be items populating\\nthe array before it.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// myArray = [];\\nmyArray[1001] = true; // create and set value of index 1001 to true\\nconsole.log(myArray.length); // 1002 OMG!!\\n\\nvar arrayItemCount = 0;\\nfor (var item in myArray) {\\n  arrayItemCount += 1;\\n}\\nconsole.log(\\\"myArray counted items: \\\" + arrayItemCount);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To delete from an array, use \",[\"$\",\"code\",null,{\"children\":\"Array.splice()\"}],\". This function takes 3 arguments,\\n\",[\"$\",\"code\",null,{\"children\":\"start\"}],\" the index to start adding/removing items, \",[\"$\",\"code\",null,{\"children\":\"deleteCount\"}],\" the number of\\nitems to remove/replace, and finally n-arguments for the addition n-items to add\\nto the array.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var animals = [\\\"cat\\\", \\\"dog\\\", \\\"pork\\\", \\\"pig\\\", \\\"fish\\\"];\\n\\n// remove 'pork'\\na.splice(2, 1);\\n// removed 'pork'\\na \u003e [\\\"cat\\\", \\\"dog\\\", \\\"pig\\\", \\\"fish\\\"];\\n\\n// add 'snake' before item 2.\\na.splice(2, 0, \\\"snake\\\") \u003e [\\\"cat\\\", \\\"dog\\\", \\\"snake\\\", \\\"pig\\\", \\\"fish\\\"];\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"viola!\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"delete\",\"children\":\"Delete\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"delete\"}],\" operator removes a property from an object. If will not remove the\\nproperty if it only exists on parent objects along the prototype chain. It is\\nuseful for removing the property from a leaf object so that the property along\\nthe prototype chain is used.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"global-abatement\",\"children\":\"Global Abatement\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Global variables in general weaken the portability and resiliency of programs,\\nbut in the case they’re necessary, aim to limit them to a single global\\nvariable. This is done by attaching all properties to a single global variable.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var MYAPP = {};\\nMYAPP.views = {};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This will reduce namespace or scope collisions with other applications or\\nlibraries.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"reference\",\"children\":\"Reference\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"JavaScript passes objects around by reference, never by value.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var x = {\\n  fn: \\\"Jerome\\\",\\n  ln: \\\"Howard\\\",\\n  nn: \\\"Jer\\\",\\n};\\nvar y = x.nn; // new variable value: 'Jer'\\nx.nn = \\\"curly\\\";\\nconsole.log(y); // 'curly'\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"reflection\",\"children\":\"Reflection\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Reflection is the ability of a program to introspect is own code at runtime.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Javascript offers the \",[\"$\",\"code\",null,{\"children\":\"typeof\"}],\" operator to check the type of a property, and\\n\",[\"$\",\"code\",null,{\"children\":\"hasOwnProperty()\"}],\" which return true if the property exists directly on an\\nobject, false if it does not (and possibly exists up the prototype chain.)\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var a_var = \\\"a message\\\";\\ntypeof a_var;\\n\u003e 'string'\\n\\nvar an_object = {\\n    a_prop: true;\\n};\\nan_object.hasOwnProperty('a_prop');\\n\u003e true\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"functions\",\"children\":\"Functions\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"”The craft of programming is the factoring of a set of requirements into a set\\nof functions and data structures.” \",[\"$\",\"cite\",null,{\"children\":\"Douglas Crockford\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Functions encapsulate a set of statements. They enable code reuse, information\\nhiding and behavior composition.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Functions in JavaScript are objects. Objects are collections of name-value pairs\\nthat have a hidden prototype link to \",[\"$\",\"code\",null,{\"children\":\"Object.prototype\"}],\". The Objects produced\\nfrom object literals are linked to \",[\"$\",\"code\",null,{\"children\":\"Object.prototype\"}],\". Function objects are\\nlinked to \",[\"$\",\"code\",null,{\"children\":\"Function.prototype\"}],\"– which is linked to \",[\"$\",\"code\",null,{\"children\":\"Object.prototype\"}],\".\\nFunctions are also created with two additional hidden properties: the function’s\\nexecution context (lexical scope) and the source code that implements the\\nfunction.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Functions have a \",[\"$\",\"code\",null,{\"children\":\"prototype\"}],\" property whos value is an object with a\\n\",[\"$\",\"code\",null,{\"children\":\"constructor\"}],\" property whos value is the function. This is distinct from the\\nhidden link to \",[\"$\",\"code\",null,{\"children\":\"Function.prototype\"}],\". [](#ToDo: this needs to be fleshed-out in\\nmore detail)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When invoked, functions receive two additional parameters: \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" and\\n\",[\"$\",\"code\",null,{\"children\":\"arguments\"}],\". The value of \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" depends on how the function was invoked\\n(invoked as method, invoked as function, invoked as constructor, and invoked as\\napply). The value of \",[\"$\",\"code\",null,{\"children\":\"arguments\"}],\" is an array-like object (in that the object has\\na \",[\"$\",\"code\",null,{\"children\":\"length\"}],\" property) of all parameters passed to the function when invoked.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"method-invocation-pattern\",\"children\":\"Method Invocation Pattern\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When a function is created as a property of an object, it is called a method.\\nWhen a method is invoked, it is bound to the object it is a property of. You can\\ntell a function is invoked as a method when it uses a refinement; a \",[\"$\",\"code\",null,{\"children\":\".\"}],\" notation\\nto call the function.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Functions invoked as a method can access the bound object using the \",[\"$\",\"code\",null,{\"children\":\"this\"}],\"\\nreference to access other properties and values on that object. The methods\\n\",[\"$\",\"code\",null,{\"children\":\"this\"}],\" object is late-bound at function invocation time. This makes methods that\\nmake references to \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" more portable. These type of objects are called public\\nmethods.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var myObj = {\\n  value: 2,\\n  increment: function (inc) {\\n    this.value += typeof inc === \\\"number\\\" ? inc : 1;\\n  },\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The binding of \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" happens very late, at invocation time. A method can use\\n\",[\"$\",\"code\",null,{\"children\":\"this\"}],\" to retrieve values from the object, or modify the object.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Crockford introduces the \",[\"$\",\"code\",null,{\"children\":\"method\"}],\" method, it is used throughout the book to\\ndefine new methods on existing objects. Crockford attaches it to the \",[\"$\",\"code\",null,{\"children\":\"Function\"}],\"\\nprototype, so it is available to all objects.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"Function.prototype.method = function (name, func) {\\n  this.prototype[name] = func;\\n  return this;\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A use of the \",[\"$\",\"code\",null,{\"children\":\"method\"}],\" method would be to define a new function \",[\"$\",\"code\",null,{\"children\":\"predictLength\"}],\"\\non the String object. This function will return the predicted length a string\\nwhen concatenated with the existing string.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// use Crockfords' `method` method on the `String` object.\\nString.method(\\\"predictLength\\\", function (arg) {\\n  var len = this.length,\\n    argLen = arg.len,\\n    nextLen = len + argLen;\\n  var message = \\\"Predicted length is %0 for string '%1'\\\"\\n    .replace(\\\"%0\\\", nextLen)\\n    .replace(\\\"%1\\\", arg);\\n  console.log(message);\\n  return nextLen;\\n});\\n\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"function-invocation-pattern\",\"children\":\"Function Invocation Pattern\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When a function is not a property of an object, it is invoked directly as a\\nfunction:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var sum = add(3, 4);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Any function invoked in this pattern, the \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" value is bound to the global\\nobject. This becomes confusing for many developers when defining objects with\\nsub-functions that expect the value of the \",[\"$\",\"code\",null,{\"children\":\"this\"}],\" value to refer to the\\ncontaining object. A example of problematic code illustrates:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var brokenObj = {\\n  value: 2,\\n  double: function () {\\n    var helper = function () {\\n      // broken, the value of `this` in `this.value` refers to the global\\n      // Object, not `brokenObj`.\\n      this.value = this.value * 2; // fails, global Object.value set to NaN\\n    };\\n    helper();\\n  },\\n};\\n\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"constructor-invocation-pattern\",\"children\":\"Constructor Invocation Pattern\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If a function is invoked with the \",[\"$\",\"code\",null,{\"children\":\"new\"}],\" prefix e.g.\\n\",[\"$\",\"code\",null,{\"children\":\"var x = new Status('confused')\"}],\", then a new object is created and returned with\\na link to the value of the function’s \",[\"$\",\"code\",null,{\"children\":\"prototype\"}],\" property. The value of \",[\"$\",\"code\",null,{\"children\":\"this\"}],\"\\nis bound to the new object.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var Status = function (status) {\\n  this.status = status;\\n  this.valueOf = function () {\\n    console.info(`status ${this.status}`);\\n    return this.status;\\n  };\\n};\\nvar happy = new Status(\\\"happy\\\");\\ntypeof Status === \\\"function\\\"; // true\\ntypeof happy === \\\"object\\\"; // true\\nhappy.valueOf() === \\\"happy\\\"; // true\\n(\\\"status happy\\\");\\ntrue;\\n\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"apply-invocation-pattern\",\"children\":\"Apply Invocation Pattern\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"apply\"}],\" method is available on every function. In the constructor invocation\\npattern above, the \",[\"$\",\"code\",null,{\"children\":\"valueOf\"}],\" method was bound to the local object. Instead, the\\nthe \",[\"$\",\"code\",null,{\"children\":\"apply\"}],\" method allows the developer supply an arbitrary value for \",[\"$\",\"code\",null,{\"children\":\"this\"}],\", in\\neffect allowing the developer to apply the method to any object rather than to\\nthe object it is currently bound too.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var DoMath = function (x, y) {\\n  this.x = x;\\n  this.y = y;\\n  this.sum = function () {\\n    return this.x + this.y;\\n  };\\n};\\nvar oneTwo = new DoMath(1, 2);\\noneTwo.sum() === 3; // true\\n\\n// now we can force sum() to reference an object that we pass to the apply() method\\nvar threeFour = {\\n  x: 3,\\n  y: 4,\\n};\\noneTwo.sum.apply(threeFour, null);\\n7;\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"prototype\",\"children\":\"Prototype\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Every object is linked to a prototype from which it inherits properties. All\\nobjects created with object literal syntax are linked to \",[\"$\",\"code\",null,{\"children\":\"Object.prototype\"}],\".\\nWhen creating new objects, we can select which object it inherits from. We can\\nuse a method named \",[\"$\",\"code\",null,{\"children\":\"Object.create\"}],\" to implement this behavior.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Object.create\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"if (typeof Object.create !== \\\"function\\\") {\\n  Object.create = function (o) {\\n    var F = function () {};\\n    F.prototype = o;\\n    return new F();\\n  };\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The prototype link is used only in retrieval. If we try to retrieve a property\\nvalue from an object, it will either return the value on the object itself, or\\nlook up to \",[\"$\",\"strong\",null,{\"children\":\"its\"}],\" prototype, and so on, until the lookup finds the property or\\n\",[\"$\",\"code\",null,{\"children\":\"undefined\"}],\" is returned if nowhere along the prototype chain nor\\n\",[\"$\",\"code\",null,{\"children\":\"Object.prototype\"}],\" has the property. This is called prototype retrieval\\ndelegation.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If properties are added to a prototype, all children of that prototype will\\nimmediately be available.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To determine if an object has a property directly, without invoking the\\nprototype chain, use \",[\"$\",\"code\",null,{\"children\":\"hasOwnProperty\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var ob = {};\\nob.hasOwnProperty('newProperty');\\n\u003e false\\neb.newProperty = \\\"a value\\\";\\nob.hasOwnProperty('newProperty');\\n\u003e true\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Prototypal inheritance\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// differential inheritance\\nvar Mammal = {\\n  name: \\\"A Mammal\\\",\\n  says: \\\"Noise\\\",\\n  get_name: function () {\\n    return this.name;\\n  },\\n  speak: function () {\\n    return this.says || \\\"\\\";\\n  },\\n};\\nvar myCat = Object.create(Mammal);\\nmyCat.name = \\\"Henrietta\\\";\\nmyCat.says = \\\"meow\\\";\\nmyCat.purr = function (n) {\\n  var i,\\n    s = \\\"\\\";\\n  for (i = 0; i \u003c n; i += 1) {\\n    if (s) {\\n      s += \\\"-\\\";\\n    }\\n    s += \\\"r\\\";\\n  }\\n  return s;\\n};\\nmyCat.get_name = function () {\\n  return this.speak() + \\\" \\\" + this.name + \\\" \\\" + this.speak();\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For-in loops\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var stooge_2 = Object.create(stooge);\\nstooge_2.first_name = \\\"Harry\\\";\\nstooge_2.last_name = \\\"Moses\\\";\\nstooge_2.nickname = \\\"John\\\";\\nfor (var name in stooge_2) {\\n  console.log(stooge_2[name]);\\n}\\n\\ndelete stooge_2.nickname;\\nconsole.log(stooge_2.nickname); // 'curly'\\n\\n// Method invocation pattern\\nconsole.log(\\\"===== Method invocation pattern ====\\\");\\nvar myObject = {\\n  value: 0,\\n  increment: function (inc) {\\n    this.value += typeof inc === \\\"number\\\" ? inc : 1;\\n  },\\n};\\n\\nmyObject.increment();\\nconsole.log(myObject.value); // 1\\nmyObject.increment(2);\\nconsole.log(myObject.value); // 3\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"function-invocation-pattern-1\",\"children\":\"Function invocation pattern\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"myObject.double = function () {\\n  var that = this; // global this mis-assignment fix\\n  var helper = function () {\\n    that.value = that.value * 2;\\n  };\\n  helper(); // invoke helper as a function\\n};\\n// invoke double as a method\\nmyObject.double();\\nmyObject.value \u003e 6;\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"constructor-invocation-pattern-1\",\"children\":\"Constructor Invocation pattern\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"$f\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Object augmentation\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"Function.prototype.method = function (name, func) {\\n  // add arbitrary functions with name name to our Object.\\n  this.prototype[name] = func;\\n  return this;\\n};\\nNumber.method(\\\"integer\\\", function () {\\n  return Math[this \u003c 0 ? \\\"ceil\\\" : \\\"floor\\\"](this);\\n});\\nconsole.log((-10 / 3).integer()); // -3\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"lexical-scope\",\"children\":\"Lexical Scope\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Lexical scope is the availability of variables to an executing block of code.\\nJavaScript lexical scope is determined by resolving objects in the immediate\\nlexical scope, then moving up the chain until it reaches the variables defined\\nin the global scope.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var foo = function() {\\n    var a = 3,\\n        b = 5;\\n    var bar = function() {\\n        var b = 7,  // define local b\\n            c = 11; // define local c\\n        // a = 3, b = 7, c = 11\\n        console.log('a', a, 'b', b, 'c', c);\\n        a += b + c; // 3 + 7 + 11\\n        // a = 21, b = 7, c = 11\\n        console.log('a', a, 'b', b, 'c', c);\\n    };\\n    // now: a = 3, b = 5, c = undefined\\n    console.log('a', a, 'b', b);\\n    bar();\\n    // a = 21, b = 5\\n    console.log('a', a, 'b', b);\\n};\\nfoo();\\n\u003e a 3 b 5\\n\u003e a 3 b 7 c 11\\n\u003e a 21 b 7 c 11\\n\u003e a 21 b 5\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"closure\",\"children\":\"Closure\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"A closure is a reference to a function as well as the runtime environment of the\\nfunction. This includes any variables within the lexical scope of the function.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// addN returns a function that adds its argument.\\nvar addN = function (x) {\\n  // x and the function below are in the same lexical scope\\n  return function (y) {\\n    return x + y;\\n  };\\n};\\n\\n// add3: Return a function that adds 3 to its argument\\nvar add3 = addN(3);\\n// add5: Return a function that adds 3 to its argument\\nvar add5 = addN(5);\\nvar resultOfAdd3 = add3(4); // 7\\nvar resultOfAdd5 = add5(4); // 8\\nresultOfAdd3 \u003e 7;\\nresultOfAdd5 \u003e 8;\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Additional examples of closures in JavaScript:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"$10\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Closure can be useful for things such as callbacks used in animation.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"var fade = function (node) {\\n  var level = 1;\\n  var step = function () {\\n    var hex = level.toString(16);\\n    var colorValue = \\\"#ffff\\\" + hex + hex;\\n    node.style.backgroundColor = colorValue;\\n    console.log(\\\"level \\\" + level + \\\" backgroundColor: \\\" + colorValue);\\n    // step() maintains access to 'level' variable outside its execution scope via Closure.\\n    if (level \u003c 15) {\\n      level += 1;\\n      setTimeout(step, 100);\\n    }\\n  };\\n  setTimeout(step, 100);\\n};\\nfade(document.body);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Using closure and setTimout to increment a local variable.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"for (var i = 0; i \u003c= 10; i++) {\\n  (function (i) {\\n    setTimeout(function () {\\n      console.log(i);\\n    }, 1000 * i);\\n  })(i);\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"modules\",\"children\":\"Modules\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A module is a function or object that presents an interface but that hides its\\nstate and implementation.\",[\"$\",\"br\",null,{}],\"\\n—\",[\"$\",\"cite\",null,{\"children\":\"Douglas Crockford\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Modules exist because developers \",[\"$\",\"em\",null,{\"children\":\"want\"}],\" to write code in discrete JavaScript\\nfiles, while [web] deployment \",[\"$\",\"em\",null,{\"children\":\"wants\"}],\" optimized code in as few HTTP requests as\\npossible. These interests are add odds with one another.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Modules aim to encapsulate a piece of code into a useful unit, and register its\\ncapability/export a value for the module.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The general pattern of a module is a function that defines private variables\\nand functions; creates privileged function which, through closure, will have\\naccess to the private variables an functions; and that returns the privileged\\nfunctions or stores them in an accessible place.\",[\"$\",\"br\",null,{}],\"\\n—\",[\"$\",\"cite\",null,{\"children\":\"Douglas Crockford\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Douglas then defines a simple module using the function-closure pattern, which\\nreturns an anonymous function to a global variable where the module will be\\nreferenced.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// SayModule: A function that simply console.log's its argument.\\nvar SayModule = ( function() {\\n    var message = 'You said: {0}';\\n    return function(arg) {\\n        console.log( message.replace( '{0}', arg ) );\\n        return arg;\\n    }\\n}() );\\n\\nvar whatSaid = SayModule(\\\"hello world!\\\");\\n\u003e You said: hello world!\\n\u003e 'hello world!'\\nwhatSaid\\n\u003e 'hello world!'\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With many of these, module scripts are strung together in the DOM with\\nnamespaces being described by a single global object where it’s still possible\\nto incur naming collisions in the architecture.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"CommonJS is a set of conventions used to define how JavaScript modules are used\\nand packaged. It defines the Module specification. This describes how code can\\nfetch and include external modules as a dependency using the \",[\"$\",\"code\",null,{\"children\":\"require(\\\"\u003cname\u003e\\\")\"}],\"\\nfunction. It also defines how authors export their code either by reassigning a\\n\",[\"$\",\"code\",null,{\"children\":\"module.exports\"}],\" object, or adding properties to an \",[\"$\",\"code\",null,{\"children\":\"exports\"}],\" variable. CommonJS\\nis most often used for synchronous loading of dependencies on server-side\\nsystems such as Node.js.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"AMD (Asynchronous Module Definition) is another specification for modules.\\nRequireJS is probably the most popular implementation of AMD. RequireJS was\\ndesigned to asynchronously load modules in a browser context. RequireJS\\nimplements AMD, which is designed to suit the async nature of a browser.\\nRequireJS implements a \",[\"$\",\"code\",null,{\"children\":\"define()\"}],\" function that allows the module to declare its\\ndependencies before being loaded. RequireJS can easily be wrapped by CommonJS\\nsuch that CommonJS modules can easily be included using RequireJS.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"http://browserify.org/\",\"children\":\"Browserify\"}],\" is a CommonJS Module implementation that\\ncan run in the browser. Browserify introspects JavaScript use of the CommonJS\\n\",[\"$\",\"code\",null,{\"children\":\"require()\"}],\" function and builds a “bundle” that can be served in a single HTML\\n\",[\"$\",\"code\",null,{\"children\":\"\u003cscript\u003e\"}],\" tag.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"http://webpack.github.io/docs/what-is-webpack.html\",\"children\":\"webpack\"}],\" is a module\\nbundler that aims to understand the needs of the developer as well as solve the\\nproblems of delivering code modules efficiently in the browser. webpack uses an\\nopinionated configuration-over-code approach (similar to Grunt, but with more\\nopinions) vs Gulp, which requires much more manual wiring.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"wtf\",\"children\":\"WTF\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"0.1 + 0.2 // 0.3? NOPE!\\n\u003e 0.30000000000000004\\n\\nx = 1.0000000000000001\\nx === 1\\ntrue // Huh?\\n\\ny = {}\\n\u003e y[[]] = 1\\n\u003e Object.keys(y)\\n[ '' ] // HuH?\\n\"}]}]]}],[\"$\",\"footer\",null,{\"className\":\"license_copyright__EpMnZ\",\"children\":[\"This is licensed under a Creative Commons \",\"cc-by-nc-sa\",\" International License\"]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"JavaScript The Good Parts\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Javascript The Good Parts notes.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://0xadada.pub\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"notes,software-engineering,JavaScript\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://0xadada.pub/rss.xml\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:title\",\"content\":\"JavaScript The Good Parts\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:description\",\"content\":\"Javascript The Good Parts notes.\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:url\",\"content\":\"https://0xadada.pub/2015/11/15/javascript-the-good-parts/\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:site_name\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"660\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"JavaScript The Good Parts\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Javascript The Good Parts notes.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:height\",\"content\":\"660\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"24\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?b764b3a1dbf00a82\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>