<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/f35390f3f688d4e9.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/01f63581d77a7b07.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-2f2089cdbb260ed4.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-cc48c28d170fddc2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-c7efea4b65083e7f.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-715e3a652bc6b546.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-d7e0a94ebe194dac.js" async=""></script><script src="/_next/static/chunks/app/page-6a83ba6360da41fb.js" async=""></script><script src="/_next/static/chunks/749-0b1ce23612086a28.js" async=""></script><script src="/_next/static/chunks/app/layout-fc0d62f13c865466.js" async=""></script><title>on logging</title><meta name="description" content="Thoughts and best practices on application logging."/><link rel="author" href="https://0xadada.pub"/><meta name="author" content="0xADADA"/><meta name="keywords" content="essays,open-source,software-engineering"/><link rel="alternate" type="application/rss+xml" href="https://0xadada.pub/rss.xml"/><meta property="og:title" content="on logging"/><meta property="og:description" content="Thoughts and best practices on application logging."/><meta property="og:url" content="https://0xadada.pub/2015/11/05/on-logging"/><meta property="og:site_name" content="0xADADA"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta property="og:image:width" content="660"/><meta property="og:image:height" content="660"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="on logging"/><meta name="twitter:description" content="Thoughts and best practices on application logging."/><meta name="twitter:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta name="twitter:image:width" content="660"/><meta name="twitter:image:height" content="660"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="apple-touch-icon" href="/apple-icon.png?b764b3a1dbf00a82" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><main class="layout_layout__dCqca"><article class="hentry h-entry"><header><h1 class="entry-title p-name">on logging</h1><time class="display-date_published__A_L_d dt-published" dateTime="2015-11-05T00:00:00.000Z">Thursday November 5, 2015</time><span class="h-card page_byline__wbXsN"> by <span class="fn p-author p-name">0xADADA</span></span></header><div class="entry-content e-content"><p>Application logs are useful for many reasons. They are the primary source of
troubleshooting information. Logs are essential to forensics during any rigorous
security analysis. Web server logs are often used for analysis in order to gain
insight into usage, audience, and trends.</p>
<h2 id="logging">Logging</h2>
<p>Logs are time-ordered streams: there is no beginning or end, but rather an
ongoing, collated collection of events which we may wish to view in realtime as
they happen. Unix provides some excellent tools for handling streams. There are
two default output streams, <code>stdout</code> and <code>stderr</code>, available automatically to
all programs.</p>
<p>A program which uses <code>stdout</code> is equipped to log in a variety of ways without
adding any weight to its codebase or configuration format.</p>
<p>Treating your logs as streams is a form of future-proofing for your application.
Choosing to use <code>stdout</code> over custom-implementing a specific logging solution
allows your application to change logging mechanisms with 0-code changes. It
allows you to be the most agnostic as you haven‚Äôt needed to make any decisions
or implementations other than adopting a long-standard convention.</p>
<p>If you run them in the foreground, as is typical of development mode, you see
the output right in your terminal. This is exactly what you want. If you run in
production mode, you can redirect the output to a file, to syslog, to both, or
to any other logging system that can accept an input stream.</p>
<p>Logging on any reasonably large distributed system will generally end up using
the syslog protocol to send logs from many components to a single location.
Programs that treat logs as files are now on the wrong path: if they wish to log
to syslog, each program needs to implement syslog internally - and provide yet
more logging configuration options to set the various syslog fields.</p>
<h3 id="best-practices">Best Practices</h3>
<ol>
<li>An app shouldn‚Äôt implement a custom logging solution. Simply write to
<code>stdout</code> and <code>stderr</code>.</li>
<li>Don‚Äôt write to a log file, and don‚Äôt expect log files to be managed. This
then requires log rotation and log file maintenance.</li>
</ol>
<p>During local development, the developer will view this stream in the foreground
of their terminal to observe app behavior. During production the runtime
environment will read <code>stdout</code> and <code>stderr</code> from the app, the streams will be
captured by the execution environment, collated together with all other streams
from the app, and routed to one or more final destinations for viewing and
long-term archival. These archival destinations are not visible to or
configurable by the app, and instead are completely managed by the execution
environment. Furthermore, the app needn‚Äôt implement any logging solution.</p>
<p>The event stream for an app can be rerouted to a file (if needed), or watched in
a terminal. Most significantly, the stream can be sent to a log indexing and
analysis system such as Splunk. These systems allow for great power and
flexibility for introspecting an app‚Äôs behavior over time, including:</p>
<ul>
<li>Finding specific events in the past.</li>
<li>Large-scale graphing of trends (such as requests per minute).</li>
<li>Active alerting according to user-defined heuristics</li>
</ul>
<h3 id="in-practice">In Practice</h3>
<p>Already using Amazon AWS? Checkout CloudWatch, the additional advantages here
are that you could have a central source of truth for all monitoring needs
because such metrics as CPU, disk I/O, and network for your container instances
are already available on CloudWatch.</p>
<p>If using Docker,
<a href="https://github.com/docker/docker/releases/tag/v1.9.0">Docker 1.9 announced a logging driver for CloudWatch</a>.
Use these options to enable the <code>awslogs</code> Amazon AWS CloudWatch logging driver:</p>
<pre><code>--log-opt awslogs-region=&lt;aws_region&gt;
--log-opt awslogs-group=&lt;log_group_name&gt;
--log-opt awslogs-stream=&lt;log_stream_name&gt;
</code></pre>
<p>Provide AWS credentials to the Docker daemon to use the <code>awslogs</code> logging
driver. You can provide these credentials with the <code>AWS_ACCESS_KEY_ID</code> ,
<code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_SESSION_TOKEN</code> environment variables.</p>
<p>Credentials must have a policy applied that allows the <code>logs:CreateLogStream</code>
and <code>logs:PutLogEvents</code> actions, as shown in the following example.</p>
<pre><code>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Action&quot;: [
        &quot;logs:CreateLogStream&quot;,
        &quot;logs:PutLogEvents&quot;
      ],
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    }
  ]
}
</code></pre>
<p>Use containers to move logs from one container into another service using a
Docker logging driver. Docker allows configuration of container log driver:</p>
<pre><code>container_name:
    log_driver: syslog
      log_opt:
        syslog-tag: nginxproxy_nginx
        syslog-address: udp://MY_DOCKER_HOST
</code></pre>
<p>Using Splunk?
<a href="http://blogs.splunk.com/2015/08/24/collecting-docker-logs-and-stats-with-splunk/">Use containers to run a Splunk forwarder</a></p>
<pre><code>splunkforwarder:
  image: outcoldman/splunk:6.2-forwarder
  environment:
    - SPLUNK_FORWARD_SERVER=YOUR_DOCKER_HOSTNAME:9997
  volumes_from:
    - vforwarder
  ports:
    - 514:1514/udp
  restart: always
</code></pre></div><footer class="license_copyright__EpMnZ">This is licensed under a Creative Commons <!-- -->cc-by-nc-sa<!-- --> International License</footer></article></main><footer class="footer_footer__woFMY layout_layout__dCqca"><nav><p>¬© 2003-<!-- -->2024<!-- --> 0xADADA (unless otherwise noted.)<br/><span class="h-card"><span class="p-note" hidden="">0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí</span><a class="u-url u-uid" title="0xADADA" href="https://0xadada.pub/">0xADADA</a> <a class="c-Meta u-email" rel="me" title="0xADADA" href="mailto:0xadada.pub@protonmail.com">Email</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Warpcast" href="https://warpcast.com/0xadada">Farcaster</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Mastodon" href="https://mastodon.cloud/@0xADADA">Mastodon</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Bluesky" href="https://bsky.app/profile/0xadada.bsky.social">Bluesky</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Twitter" href="https://twitter.com/0xadada"><del>Twitter</del></a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on GitHub" href="https://github.com/0xadada">GitHub</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Goodreads" href="https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted">Goodreads</a> <a href="/rss.xml">RSS</a> <img alt="0xADADA icon" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="u-photo" style="color:transparent;margin-bottom:-0.125rem" src="/static/images/meta/avatar.svg"/></span></p></nav><form action="https://buttondown.email/api/emails/embed-subscribe/0xadada" method="post" target="popupwindow"><label for="email">Sign up to get emailed when I write new things:<!-- --> </label><input type="email" id="email" name="email"/><input type="submit" value="Subscribe"/></form></footer><script src="/_next/static/chunks/webpack-2f2089cdbb260ed4.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/f35390f3f688d4e9.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/01f63581d77a7b07.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[5250,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"931\",\"static/chunks/app/page-6a83ba6360da41fb.js\"],\"\"]\nb:I[1749,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"749\",\"static/chunks/749-0b1ce23612086a28.js\",\"185\",\"static/chunks/app/layout-fc0d62f13c865466.js\"],\"Image\"]\nd:I[8955,[],\"\"]\n8:[\"slug\",\"2015/11/05/on-logging\",\"c\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f35390f3f688d4e9.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"b_3qCFgXqwu0LEaUNQsyn\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/2015/11/05/on-logging\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"2015/11/05/on-logging\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2015\\\",\\\"11\\\",\\\"05\\\",\\\"on-logging\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"2015/11/05/on-logging\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/01f63581d77a7b07.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en-US\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"main\",null,{\"className\":\"layout_layout__dCqca\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"footer_footer__woFMY layout_layout__dCqca\",\"children\":[[\"$\",\"nav\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"¬© 2003-\",\"2024\",\" 0xADADA (unless otherwise noted.)\",[\"$\",\"br\",null,{}],[\"$\",\"span\",null,{\"className\":\"h-card\",\"children\":[[\"$\",\"span\",null,{\"className\":\"p-note\",\"hidden\":true,\"children\":\"0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí\"}],[\"$\",\"$La\",null,{\"className\":\"u-url u-uid\",\"href\":\"https://0xadada.pub/\",\"title\":\"0xADADA\",\"children\":\"0xADADA\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"mailto:0xadada.pub@protonmail.com\",\"className\":\"c-Meta u-email\",\"rel\":\"me\",\"title\":\"0xADADA\",\"children\":\"Email\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://warpcast.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Warpcast\",\"children\":\"Farcaster\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://mastodon.cloud/@0xADADA\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Mastodon\",\"children\":\"Mastodon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://bsky.app/profile/0xadada.bsky.social\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Bluesky\",\"children\":\"Bluesky\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Twitter\",\"children\":[\"$\",\"del\",null,{\"children\":\"Twitter\"}]}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on GitHub\",\"children\":\"GitHub\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Goodreads\",\"children\":\"Goodreads\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/rss.xml\",\"children\":\"RSS\"}],\" \",[\"$\",\"$Lb\",null,{\"className\":\"u-photo\",\"src\":\"/static/images/meta/avatar.svg\",\"alt\":\"0xADADA icon\",\"width\":\"20\",\"height\":\"20\",\"style\":{\"marginBottom\":\"-0.125rem\"}}]]}]]}]}],[\"$\",\"form\",null,{\"action\":\"https://buttondown.email/api/emails/embed-subscribe/0xadada\",\"method\":\"post\",\"target\":\"popupwindow\",\"children\":[[\"$\",\"label\",null,{\"htmlFor\":\"email\",\"children\":[\"Sign up to get emailed when I write new things:\",\" \"]}],[\"$\",\"input\",null,{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\"}],[\"$\",\"input\",null,{\"type\":\"submit\",\"value\":\"Subscribe\"}]]}]]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"hentry h-entry\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"entry-title p-name\",\"children\":\"on logging\"}],[\"$\",\"time\",null,{\"className\":\"display-date_published__A_L_d dt-published\",\"dateTime\":\"2015-11-05T00:00:00.000Z\",\"children\":\"Thursday November 5, 2015\"}],[\"$\",\"span\",null,{\"className\":\"h-card page_byline__wbXsN\",\"children\":[\" by \",[\"$\",\"span\",null,{\"className\":\"fn p-author p-name\",\"children\":\"0xADADA\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"entry-content e-content\",\"children\":[[\"$\",\"p\",null,{\"children\":\"Application logs are useful for many reasons. They are the primary source of\\ntroubleshooting information. Logs are essential to forensics during any rigorous\\nsecurity analysis. Web server logs are often used for analysis in order to gain\\ninsight into usage, audience, and trends.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"logging\",\"children\":\"Logging\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Logs are time-ordered streams: there is no beginning or end, but rather an\\nongoing, collated collection of events which we may wish to view in realtime as\\nthey happen. Unix provides some excellent tools for handling streams. There are\\ntwo default output streams, \",[\"$\",\"code\",null,{\"children\":\"stdout\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"stderr\"}],\", available automatically to\\nall programs.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A program which uses \",[\"$\",\"code\",null,{\"children\":\"stdout\"}],\" is equipped to log in a variety of ways without\\nadding any weight to its codebase or configuration format.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Treating your logs as streams is a form of future-proofing for your application.\\nChoosing to use \",[\"$\",\"code\",null,{\"children\":\"stdout\"}],\" over custom-implementing a specific logging solution\\nallows your application to change logging mechanisms with 0-code changes. It\\nallows you to be the most agnostic as you haven‚Äôt needed to make any decisions\\nor implementations other than adopting a long-standard convention.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If you run them in the foreground, as is typical of development mode, you see\\nthe output right in your terminal. This is exactly what you want. If you run in\\nproduction mode, you can redirect the output to a file, to syslog, to both, or\\nto any other logging system that can accept an input stream.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Logging on any reasonably large distributed system will generally end up using\\nthe syslog protocol to send logs from many components to a single location.\\nPrograms that treat logs as files are now on the wrong path: if they wish to log\\nto syslog, each program needs to implement syslog internally - and provide yet\\nmore logging configuration options to set the various syslog fields.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"best-practices\",\"children\":\"Best Practices\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"An app shouldn‚Äôt implement a custom logging solution. Simply write to\\n\",[\"$\",\"code\",null,{\"children\":\"stdout\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"stderr\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Don‚Äôt write to a log file, and don‚Äôt expect log files to be managed. This\\nthen requires log rotation and log file maintenance.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"During local development, the developer will view this stream in the foreground\\nof their terminal to observe app behavior. During production the runtime\\nenvironment will read \",[\"$\",\"code\",null,{\"children\":\"stdout\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"stderr\"}],\" from the app, the streams will be\\ncaptured by the execution environment, collated together with all other streams\\nfrom the app, and routed to one or more final destinations for viewing and\\nlong-term archival. These archival destinations are not visible to or\\nconfigurable by the app, and instead are completely managed by the execution\\nenvironment. Furthermore, the app needn‚Äôt implement any logging solution.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The event stream for an app can be rerouted to a file (if needed), or watched in\\na terminal. Most significantly, the stream can be sent to a log indexing and\\nanalysis system such as Splunk. These systems allow for great power and\\nflexibility for introspecting an app‚Äôs behavior over time, including:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Finding specific events in the past.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Large-scale graphing of trends (such as requests per minute).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Active alerting according to user-defined heuristics\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"in-practice\",\"children\":\"In Practice\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Already using Amazon AWS? Checkout CloudWatch, the additional advantages here\\nare that you could have a central source of truth for all monitoring needs\\nbecause such metrics as CPU, disk I/O, and network for your container instances\\nare already available on CloudWatch.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If using Docker,\\n\",[\"$\",\"a\",null,{\"href\":\"https://github.com/docker/docker/releases/tag/v1.9.0\",\"children\":\"Docker 1.9 announced a logging driver for CloudWatch\"}],\".\\nUse these options to enable the \",[\"$\",\"code\",null,{\"children\":\"awslogs\"}],\" Amazon AWS CloudWatch logging driver:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"--log-opt awslogs-region=\u003caws_region\u003e\\n--log-opt awslogs-group=\u003clog_group_name\u003e\\n--log-opt awslogs-stream=\u003clog_stream_name\u003e\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Provide AWS credentials to the Docker daemon to use the \",[\"$\",\"code\",null,{\"children\":\"awslogs\"}],\" logging\\ndriver. You can provide these credentials with the \",[\"$\",\"code\",null,{\"children\":\"AWS_ACCESS_KEY_ID\"}],\" ,\\n\",[\"$\",\"code\",null,{\"children\":\"AWS_SECRET_ACCESS_KEY\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"AWS_SESSION_TOKEN\"}],\" environment variables.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Credentials must have a policy applied that allows the \",[\"$\",\"code\",null,{\"children\":\"logs:CreateLogStream\"}],\"\\nand \",[\"$\",\"code\",null,{\"children\":\"logs:PutLogEvents\"}],\" actions, as shown in the following example.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"{\\n  \\\"Version\\\": \\\"2012-10-17\\\",\\n  \\\"Statement\\\": [\\n    {\\n      \\\"Action\\\": [\\n        \\\"logs:CreateLogStream\\\",\\n        \\\"logs:PutLogEvents\\\"\\n      ],\\n      \\\"Effect\\\": \\\"Allow\\\",\\n      \\\"Resource\\\": \\\"*\\\"\\n    }\\n  ]\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Use containers to move logs from one container into another service using a\\nDocker logging driver. Docker allows configuration of container log driver:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"container_name:\\n    log_driver: syslog\\n      log_opt:\\n        syslog-tag: nginxproxy_nginx\\n        syslog-address: udp://MY_DOCKER_HOST\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Using Splunk?\\n\",[\"$\",\"a\",null,{\"href\":\"http://blogs.splunk.com/2015/08/24/collecting-docker-logs-and-stats-with-splunk/\",\"children\":\"Use containers to run a Splunk forwarder\"}]]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"splunkforwarder:\\n  image: outcoldman/splunk:6.2-forwarder\\n  environment:\\n    - SPLUNK_FORWARD_SERVER=YOUR_DOCKER_HOSTNAME:9997\\n  volumes_from:\\n    - vforwarder\\n  ports:\\n    - 514:1514/udp\\n  restart: always\\n\"}]}]]}],[\"$\",\"footer\",null,{\"className\":\"license_copyright__EpMnZ\",\"children\":[\"This is licensed under a Creative Commons \",\"cc-by-nc-sa\",\" International License\"]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"on logging\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Thoughts and best practices on application logging.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://0xadada.pub\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"essays,open-source,software-engineering\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://0xadada.pub/rss.xml\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:title\",\"content\":\"on logging\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:description\",\"content\":\"Thoughts and best practices on application logging.\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:url\",\"content\":\"https://0xadada.pub/2015/11/05/on-logging\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:site_name\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"660\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"on logging\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Thoughts and best practices on application logging.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:height\",\"content\":\"660\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"24\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?b764b3a1dbf00a82\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>