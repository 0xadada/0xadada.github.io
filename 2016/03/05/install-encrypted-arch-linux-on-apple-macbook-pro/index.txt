3:I[5613,[],""]
5:I[1778,[],""]
6:I[5250,["250","static/chunks/250-d7e0a94ebe194dac.js","931","static/chunks/app/page-84b663e6d1625d16.js"],""]
7:I[1749,["250","static/chunks/250-d7e0a94ebe194dac.js","749","static/chunks/749-1aefd436964833c3.js","185","static/chunks/app/layout-8a3d32e7172cce23.js"],"Image"]
4:["slug","2016/03/05/install-encrypted-arch-linux-on-apple-macbook-pro","c"]
0:["z3wO5WXeXFy9YNqNVH5uG",[[["",{"children":[["slug","2016/03/05/install-encrypted-arch-linux-on-apple-macbook-pro","c"],{"children":["__PAGE__?{\"slug\":[\"2016\",\"03\",\"05\",\"install-encrypted-arch-linux-on-apple-macbook-pro\"]}",{}]}]},"$undefined","$undefined",true],["",{"children":[["slug","2016/03/05/install-encrypted-arch-linux-on-apple-macbook-pro","c"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/01f63581d77a7b07.css","precedence":"next","crossOrigin":""}]]}]]},[null,["$","html",null,{"lang":"en-US","children":["$","body",null,{"children":[["$","main",null,{"className":"layout_layout__dCqca","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}],["$","footer",null,{"className":"footer_footer__woFMY layout_layout__dCqca","children":[["$","nav",null,{"children":["$","p",null,{"children":["¬© 2003-","2024"," 0xADADA (unless otherwise noted.)",["$","br",null,{}],["$","span",null,{"className":"h-card","children":[["$","span",null,{"className":"p-note","hidden":true,"children":"0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí"}],["$","$L6",null,{"className":"u-url u-uid","href":"https://0xadada.pub/","title":"0xADADA","children":"0xADADA"}]," ",["$","$L6",null,{"href":"mailto:0xadada.pub@protonmail.com","className":"c-Meta u-email","rel":"me","title":"0xADADA","children":"Email"}]," ",["$","$L6",null,{"href":"https://warpcast.com/0xadada","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on Warpcast","children":"Farcaster"}]," ",["$","$L6",null,{"href":"https://mastodon.cloud/@0xADADA","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on Mastodon","children":"Mastodon"}]," ",["$","$L6",null,{"href":"https://bsky.app/profile/0xadada.bsky.social","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on Bluesky","children":"Bluesky"}]," ",["$","$L6",null,{"href":"https://twitter.com/0xadada","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on Twitter","children":["$","del",null,{"children":"Twitter"}]}]," ",["$","$L6",null,{"href":"https://github.com/0xadada","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on GitHub","children":"GitHub"}]," ",["$","$L6",null,{"href":"https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted","className":"u-url","rel":"me nofollow external noopener","title":"0xADADA on Goodreads","children":"Goodreads"}]," ",["$","$L6",null,{"href":"/colophon/","children":"Colophon"}]," ",["$","$L6",null,{"href":"/rss.xml","children":"RSS"}]," ",["$","$L7",null,{"className":"u-photo","src":"/static/images/meta/avatar.svg","alt":"0xADADA icon","width":"20","height":"20","style":{"marginBottom":"-0.125rem"}}]]}]]}]}],["$","form",null,{"action":"https://buttondown.email/api/emails/embed-subscribe/0xadada","method":"post","target":"popupwindow","children":[["$","label",null,{"htmlFor":"email","children":["Sign up to get emailed when I write new things:"," "]}],["$","input",null,{"type":"email","name":"email","id":"email"}],["$","input",null,{"type":"submit","value":"Subscribe"}]]}]]}]]}]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/60d5ae1a4351e98a.css","precedence":"next","crossOrigin":""}]],"$L8"]]]]
2:["$","article",null,{"className":"hentry h-entry","children":[["$","header",null,{"children":[["$","h1",null,{"className":"entry-title p-name","children":"Installing (encrypted) Arch Linux on an Apple MacBook Pro"}],"$undefined",["$","time",null,{"className":"display-date_published__A_L_d dt-published","dateTime":"2016-03-05T00:00:00.000Z","children":"Saturday March 5, 2016"}],["$","span",null,{"className":"h-card page_byline__wbXsN","children":[" by ",["$","span",null,{"className":"fn p-author p-name","children":"0xADADA"}]]}]]}],["$","div",null,{"className":"entry-content e-content","children":[["$","p",null,{"children":["In the style of ",["$","a",null,{"href":"https://mchladek.me/post/arch-mbp/","children":"Michael Chladek"}],", I thought\nit would be useful to my future-self and others, if I wrote up a summary of\ninstalling Arch Linux on Apple MacBook hardware. Of course there are other\nguides out there, but this one is specific to the needs of someone looking for a\nminimalist, reproducible, secure, performance oriented installation of Arch\nLinux."]}],"\n",["$","p",null,{"children":"In following this guide, I‚Äôve made some decisions that are entirely based on my\nown (subjective) opinions. These opinions are based on my experiences with other\noperating systems and distros, and a number of window managers I‚Äôve tried."}],"\n",["$","p",null,{"children":"My decisions (take them or leave them):"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Distribution: Arch Linux"}],"\n",["$","li",null,{"children":"Full disk encryption: On"}],"\n",["$","li",null,{"children":"Window Manager: Awesome"}],"\n",["$","li",null,{"children":"Typography: infinality-bundle with the ‚ÄúFree‚Äù preset"}],"\n"]}],"\n",["$","p",null,{"children":"This article assumes you‚Äôre currently running on a MacBook Pro between\ngeneration 7,1 (Mid-2010), 8,2 (Early-2011) or 11,3 (Late-2013). It assumes\nyou‚Äôre running OS X and already have some experience with Linux commands, disk\npartitions and GNU/Linux. I‚Äôve tested this guide on both of the above\ngenerations, but I‚Äôm assuming it‚Äôll work on anything in between. However, I make\nno guarantees."}],"\n",["$","p",null,{"children":["If you just want to get on to the installation, skip to this link:\n",["$","a",null,{"href":"#installing-arch","children":"Installing Arch"}],"."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Contents"}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","a",null,{"href":"#background","children":"Background"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#why-apple","children":"Why Apple?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#why-arch","children":"Why Arch?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#why-awesome","children":"Why Awesome?"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#preparing-to-install-arch","children":"Preparing to Install Arch"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#getting-the-installation-media","children":"Getting the Installation Media"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#preparing-the-installation-usb-drive","children":"Preparing the Installation USB Drive"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#installing-arch","children":"Installing Arch"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","a",null,{"href":"#test-internet","children":"Test Internet"}]," and\n",["$","a",null,{"href":"#set-the-system-clock","children":"Set the System Clock"}]]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#partition-the-hard-drive","children":"Partition the Hard Drive"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#configuring-drive-encryption-and-lvm","children":"Configuring Drive Encryption and LVM"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#select-a-mirror","children":"Select a Mirror"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#install-the-base-system","children":"Install the Base System"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#generate-the-fstab","children":"Generate the fstab"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#configure-the-system","children":"Configure The System"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#boot-loader","children":"Boot Loader"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#reboot-into-new-installation","children":"Reboot into New Installation"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#configuring-arch","children":"Configuring Arch"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#install-an-arch-user-repository-package-manager","children":"Install an Arch User Repository Package Manager"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#configure-sound","children":"Configure Sound"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#install-x-and-video-drivers","children":"Install X and Video Drivers"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#some-gui-applications","children":"Some GUI Applications"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#improved-typography","children":"Improved Typography"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#window-manager-awesome","children":"Window Manager Awesome"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#touchpad-support","children":"Touchpad Support"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#configuring-wireless","children":"Configuring Wireless"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#done","children":"Done!"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#fine-tuning","children":"Fine Tuning"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#display-color-profile","children":"Display Color Profile"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#display-color-correction","children":"Display Color Correction"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#power-management","children":"Power Management"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#laptop-mode-tools","children":"Laptop Mode Tools"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#acpid","children":"acpid"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#cpu-frequency-scaling","children":"CPU Frequency Scaling"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#temperature-management","children":"Temperature Management"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#fan-control","children":"Fan Control"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#apple-keyboard","children":"Apple Keyboard"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#apple-trackpad","children":"Apple Trackpad"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#conclusion","children":"Conclusion"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#references","children":"References"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#footnotes","children":"Footnotes"}]}],"\n"]}],"\n",["$","p",null,{"children":"This article will be installing Arch Linux alongside OS X, dual-booting such\nthat you can easily boot into either. I recommend this, even if you‚Äôre not going\nto be using OS X at all, because right now (and likely for the foreseeable\nfuture) the only way to get firmware updates installed on your machine will be\nvia OS X. There have been Linux kernel‚ÄìMacBook Pro firmware compatibility issues\nin the past that have been fixed by OS X updates that installed firmware fixes."}],"\n",["$","p",null,{"children":"I assume you have already repartitioned your drive giving you plenty of free\nspace for Arch. On my 500GB drive, I left 80GB for OS X (probably much more than\nreally necessary) and the rest I left free for Arch."}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Conventions"}]}],"\n",["$","p",null,{"children":"For commands typed as the normal user, I will not prefix them:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"uname -a\n"}]}],"\n",["$","p",null,{"children":["For commands that need to be executed as a root account, i will prefix them with\na hash-mark: ",["$","code",null,{"children":"#"}]]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# uname -a\n"}]}],"\n",["$","h2",null,{"id":"background","children":"Background"}],"\n",["$","h3",null,{"id":"why-apple","children":"Why Apple"}],"\n",["$","p",null,{"children":"I‚Äôve been using OS X as my primary OS since 2011 when I bought my first Apple\nproduct, the 15‚Äù MacBook Pro 8,2‚àí which I still use today (March 2016, on which\nI‚Äôm writing this article). This alone is a testament to its‚Äô longevity as a\ncomputing platform. The industrial design of the hardware is a pleasure to the\neyes and is much imitated. The hardware feels wonderful to the touch. I‚Äôve\ndisassembled a few of them, and despite the security screws, they‚Äôre fairly easy\nto repair or upgrade. Only recently had I felt that its‚Äô age was starting to\nshow, so last week I doubled the ram from 8GB to 16GB and upgraded the hard\ndrive to a 512GB SSD. This should provide at least another two years of life for\nthis hardware."}],"\n",["$","p",null,{"children":["Recently however, Apple has changed their hardware design philosophy from a\nfairly open platform to a more proprietary and disposable one. They‚Äôve\neliminated the ability to change or upgrade components. The\n",["$","a",null,{"href":"https://en.wikipedia.org/wiki/MacBook_Pro#3rd_generation_.28Retina.29","children":"3rd generation MacBooks"}],"\nhave a battery that is glued in place, the memory is soldered directly to the\nlogic board. Later models would come with the hard drive soldered down as well."]}],"\n",["$","p",null,{"children":["$","a",null,{"href":"http://ifixit.org/blog/2763/the-new-macbook-pro-unfixable-unhackable-untenable/","children":"Lyle Wiens of iFixIt, said it best in 2012"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"When Apple dropped the MacBook Air to $999 in 2010 to match the price point\nof the MacBook, they gave users a clear choice: the thin, light, and\nun-upgradeable MacBook Air or the heavier, longer lasting, [upgradable], more\nrugged, and more powerful MacBook. Same price, two very different products. At\nthe time, I wasn‚Äôt very happy with the non-upgradeable RAM on the MacBook Air,\nbut I respected that Apple had given their users a choice. It was up to us:\nDid we want a machine that would be stuck with 2GB of RAM forever? Would we\nsupport laptops that required replacement every year or two as applications\nrequired more memory and batteries atrophied?"}],"\n",["$","p",null,{"children":"Consumers overwhelmingly voted yes, and the Air grew to take 40 percent of\nApple‚Äôs notebook sales by the end of 2010."}],"\n"]}],"\n",["$","p",null,{"children":["This sort of vendor-lock down and\n",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Planned_obsolescence","children":"planned-obsolecence"}]," has\nbothered me to such an extent that the next laptop I buy won‚Äôt be Apple\nhardware."]}],"\n",["$","p",null,{"children":["Meanwhile, Apple has secured an\n",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Oligopoly","children":"oligopoly"}]," in the market, they have\nsuch a dominant position with hardware manufacturers that they seem to be\nsqueezing competitors out of getting access to top-quality components (or their\ncompetitors don‚Äôt care about quality). These manufacturers seem to be building\ncomputers with ‚ÄúApples‚Äô scraps and leftovers‚Äù."]}],"\n",["$","p",null,{"children":["Put simply; I don‚Äôt see any manufacturers building laptops at the same level of\nquality that Apple does, and yet, I can‚Äôt buy a\nproduct",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-1","id":"user-content-fnref-1","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"1"}]}]," that is so tightly\ncontrolled. Finally, I refuse to buy a product that is designed to be obsolete\nin two years."]}],"\n",["$","h3",null,{"id":"why-arch","children":"Why Arch?"}],"\n",["$","p",null,{"children":["I first started using Linux in 1997 when I bought a\n",["$","a",null,{"href":"https://upload.wikimedia.org/wikipedia/en/thumb/4/49/Redhat_5.2_box.jpg/220px-Redhat_5.2_box.jpg","children":"shrink-wrapped box of RedHat Linux 5.2"}],".\nAt the time, my internet connection was fast but not reliable enough to download\nthe ISO image over a 1-day dial-up session. Since then I‚Äôve tried Slackware,\nSuSE, Mandrake, Debian, Fedora, Ubuntu, CentOS, and Mint. I customized the hell\nout of my distros, I performance tweaked, secured and customized the GUI. Back\nthen, information was hard to come by, the community was still small and poorly\ndocumented, and that hardly mattered when I couldn‚Äôt access the internet because\nmy ethernet card drivers wouldn‚Äôt compile."]}],"\n",["$","p",null,{"children":["$","a",null,{"href":"https://medium.com/@fun_cuddles/linux-of-the-90s-or-why-i-have-linux-desktop-ptsd-1f276a7887fb#.jwg8up61m","children":"Jen Andre sums it up best"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"You kids these days. You have it easy."}],"\n"]}],"\n",["$","p",null,{"children":"It was enjoyable for a while, but I got very busy and eventually came to the\nconclusion that ‚ÄúLinux is free if your time is worth nothing‚Äù and stuck with OS\nX. I would occasionally install and try a different distro just to see if the\nOSS operating system world had changed, but that was about it."}],"\n",["$","p",null,{"children":"Arch is different however. Arch gets it, Arch gets it right. Arch is what I was\nsearching for all those years."}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"A rolling release cycle keeps everything fresh"}],"\n",["$","li",null,{"children":"I‚Äôm a huge advocate for their KISS Principal: Keep it Simple‚Ä¶"}],"\n",["$","li",null,{"children":"The documentation is widely regarded as the best source of info on GNU/linux"}],"\n",["$","li",null,{"children":"The Core package repository is very well maintained and trusted"}],"\n",["$","li",null,{"children":"The User package repository is great at providing pretty much everything you\ncould need or want"}],"\n",["$","li",null,{"children":"Its designed for people who want to understand and build a system from the\nground up. Install only what you know, only what you understand. It doesn‚Äôt\nhide anything behind assumptions, scripts or fancy installers."}],"\n"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"Arch is like a sandbox, they provide the box and a source of sand (the Core\nand User package repos), but it‚Äôs up to you to fill it and build your castle."}],"\n"]}],"\n",["$","h3",null,{"id":"why-awesome","children":"Why Awesome?"}],"\n",["$","p",null,{"children":"Like the topic of GNU/Linux distros, I could spend an entire post talking about\nwhy I settled on Awesome. I‚Äôve tried GNOME, KDE, even Enlightenment. They all\nare trying to do more than I need, are too influenced by the design of the Big\nDesktop players and pander to novices at the expense of the power users."}],"\n",["$","p",null,{"children":"All I really need is a quick way to switch between windows and resize them as\nneeded and for it to be fast. The focus of the window manager is the application\ncontents, not the chrome eye-candy around the edges of the window."}],"\n",["$","p",null,{"children":"Awesome was designed for this."}],"\n",["$","p",null,{"children":"So, this guide is going to install Awesome as it‚Äôs window manager. Feel free to\nswitch it out for whatever you prefer. i3, xmonad and DWM are all similar in\ndesign."}],"\n",["$","h2",null,{"id":"preparing-to-install-arch","children":"Preparing to Install Arch"}],"\n",["$","p",null,{"children":["When doing this article, I found many other articles very useful. They are\nlisted in ",["$","a",null,{"href":"#references","children":"References"}],". Please refer to them if needed. I will\nattempt to both update and condense these articles to a single ‚ÄúBe-all End-all\nGuide‚Äù to MacBook installation."]}],"\n",["$","h3",null,{"id":"getting-the-installation-media","children":"Getting the Installation Media"}],"\n",["$","p",null,{"children":["First, we need to get Arch Linux ISO from Arch Linux,\n",["$","a",null,{"href":"https://www.archlinux.org/download/","children":"Go here to download it"}]]}],"\n",["$","p",null,{"children":"I usually go with the torrent option. It‚Äôs the fastest."}],"\n",["$","p",null,{"children":"Next, we‚Äôre just going to make sure the download wasn‚Äôt corrupted or tampered\nwith in transit. To make this possible, the Arch Linux ISO publisher has posted\na cryptographic hash of the ISO. We can compare the hash of the ISO they\npublished against the hash of the ISO we downloaded. If the hash is identical,\nwe know the contents are exactly the same. Start the terminal and run the\nfollowing:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"sha1sum <FILE>.iso\n"}]}],"\n",["$","p",null,{"children":"Next, we want to make sure the the ISO we‚Äôve downloaded is provably supplied by\nthe Arch Linux team. We can do this by verifying the cryptographic signature\nthey provided with the ISO. The Arch team cryptographically signs their ISO\nimages using public-key cryptography. This ensures that the ISO file we‚Äôve\ndownloaded is verifiably provided by the Arch Linux team, and not an impostor."}],"\n",["$","p",null,{"children":["This assumes you have GnuPG installed on your system (",["$","code",null,{"children":"brew install gnupg"}],"). On\nthe ISO download page, there is a link under ‚ÄúChecksums‚Äù to get the PGP\nsignature as a ",["$","code",null,{"children":".sig"}]," file. Download that into the same directory as your Arch\nISO. Then run the following, replacing the filename (here i use\n",["$","code",null,{"children":"archlinux-2016-02-01-dual.iso"}],") with the name of the files you‚Äôve downloaded:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"gpg --verify \\\n    archlinux-2016.02.01-dual.iso.sig \\\n    archlinux-2016.02.01-dual.iso 2>&1 | \\\n    grep 'key ID' | \\\n    gpg --recv-keys 2>&1 `awk '{print $NF}'` && \\\ngpg --verify archlinux-2016.02.01-dual.iso.sig \\\n    archlinux-2016.02.01-dual.iso 2>&1 | grep 'signature from'\n"}]}],"\n",["$","p",null,{"children":"This will first attempt to verify the signature, and if you don‚Äôt have the\nsigners key, it‚Äôll retrieve it. It‚Äôll then try to verify it again, and should\nprint out ‚ÄúGood signature‚Äù if it succeeds. If you get ‚ÄúBad signature‚Äù this means\nthe ISO has either been forged by an impostor pretending to be the Arch linux\nteam, or someone has tampered with the ISO stored on their servers or in\ntransit. If thats the case, you need to find an alternate source to download the\nISO."}],"\n",["$","h3",null,{"id":"preparing-the-installation-usb-drive","children":"Preparing the Installation USB Drive"}],"\n",["$","p",null,{"children":"This installation method will first create a bootable USB stick, which is used\nto boot into a ‚ÄúLive‚Äù Arch Linux session. From there, we use the Live Arch Linux\nto install Arch onto your MacBook hard drive, then make that partition bootable."}],"\n",["$","p",null,{"children":["If you‚Äôre currently running a GNU/Linux system, follow the instructions in\n",["$","a",null,{"href":"#part-a---preparing-the-installation-usb-drive-for-linux","children":"Part A"}],". If you‚Äôre\nrunning OS X,\n",["$","a",null,{"href":"#part-b---preparing-the-installation-usb-drive-for-osx","children":"jump one section ahead to Part B"}],"."]}],"\n",["$","h4",null,{"id":"part-a---preparing-the-installation-usb-drive-for-linux","children":"Part A - Preparing the Installation USB Drive for Linux"}],"\n",["$","p",null,{"children":"If you‚Äôre already on a GNU/Linux system, use these instructions to create USB\nbootable Arch Linux live system."}],"\n",["$","p",null,{"children":["Now we‚Äôre ready to get that ISO onto a USB drive so we can boot the computer\nfrom it. Before inserting the thumb drive, run ",["$","code",null,{"children":"lsblk"}]," and take note of the\ndrives listed. Insert the drive and run ",["$","code",null,{"children":"lsblk"}]," again. Take note of the new\nletter in the ",["$","code",null,{"children":"sdX"}]," list of drives."]}],"\n",["$","p",null,{"children":["Replace the ",["$","code",null,{"children":"X"}]," with the letter on your system. Be sure to unmount the new\ndrive."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"umount /dev/sdX\n"}]}],"\n",["$","p",null,{"children":["Next, run the following command, it reads the ISO file you downloaded earlier\nand writes the contents directly to the USB drive, without the operating system\nbuffering the writes. Replace the ",["$","code",null,{"children":"X"}]," with the letter of the USB stick you took\nnote of earlier, and ",["$","code",null,{"children":"ARCHLINUX"}]," with the name of the image file you downloaded."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"dd if=ARCHLINUX.iso of=/dev/sdX bs=4M\n"}]}],"\n",["$","p",null,{"children":"After that‚Äôs run, the USB drive should be ready to boot from."}],"\n",["$","h4",null,{"id":"part-b---preparing-the-installation-usb-drive-for-osx","children":"Part B - Preparing the Installation USB Drive for OSX"}],"\n",["$","p",null,{"children":["Now we‚Äôre ready to get that ISO onto a USB drive so we can boot the computer\nfrom it. Before inserting the thumb drive, run ",["$","code",null,{"children":"diskutil list"}]," and take note of\nthe drives listed. You should see output similar to this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    /dev/disk0\n       #:                       TYPE NAME          SIZE       IDENTIFIER\n       0:      GUID_partition_scheme               500.1 GB   disk0\n       1:                        EFI               209.7 MB   disk0s1\n       2:          Apple_CoreStorage               399.5 GB   disk0s2\n       3:                 Apple_Boot Recovery HD   650.0 MB   disk0s3\n       5:                 Apple_Boot Boot OS X     134.2 MB   disk0s5\n    /dev/disk1\n       #:                       TYPE NAME          SIZE       IDENTIFIER\n       0:                  Apple_HFS MacOSX        399.2 GB   disk1\n"}]}],"\n",["$","p",null,{"children":["Insert the drive and run ",["$","code",null,{"children":"diskutil list"}]," again. Take note of the new letter in\nthe ",["$","code",null,{"children":"sdX"}]," list of drives."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    /dev/disk0\n       #:                       TYPE NAME          SIZE       IDENTIFIER\n       0:      GUID_partition_scheme               500.1 GB   disk0\n       1:                        EFI               209.7 MB   disk0s1\n       2:          Apple_CoreStorage               399.5 GB   disk0s2\n       3:                 Apple_Boot Recovery HD   650.0 MB   disk0s3\n       5:                 Apple_Boot Boot OS X     134.2 MB   disk0s5\n    /dev/disk1\n       #:                       TYPE NAME          SIZE       IDENTIFIER\n       0:                  Apple_HFS MacOSX        399.2 GB   disk1\n    /dev/diskX\n       #:                       TYPE NAME          SIZE       IDENTIFIER\n       0:      GUID_partition_scheme               2.0 GB     disk2\n       1:       Microsoft Basic Data UNTITLED 1    2.0 GB     disk2s1\n"}]}],"\n",["$","p",null,{"children":["Note ",["$","code",null,{"children":"/dev/diskX"}]," has appeared (‚ÄòX‚Äô will be a number on your system), this new\ndisk is the USB thumb drive. ",["$","strong",null,{"children":"Important"}]," ",["$","em",null,{"children":"take note of the number of this\ndrive"}],"."]}],"\n",["$","p",null,{"children":["We‚Äôre going to remove the existing partitions and erase all the data so its\nclean for our Arch Linux installer. This will delete all the data on the USB\ndrive. Make sure to substitute ",["$","code",null,{"children":"/dev/diskX"}]," for the drive number you noted\nabove."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"diskutil partitionDisk /dev/diskX 1 \"Free Space\" \"unused\" \"100%\"\n"}]}],"\n",["$","p",null,{"children":["Now",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-4","id":"user-content-fnref-4","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"2"}]}]," we can write the iso\nfile to the USB drive. ",["$","strong",null,{"children":"Note"}]," We use ",["$","code",null,{"children":"/dev/rdisk*"}]," instead of ",["$","code",null,{"children":"/dev/disk"}],"\nbecause it provides Raw disk access without the typical buffering the operating\nsystemprovides. Substitute ",["$","code",null,{"children":"DESTINATION"}]," with the name of the ",["$","code",null,{"children":"iso"}]," file you\ndownloaded earlier, and substitute the ",["$","code",null,{"children":"X"}]," with the number of the drive."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"dd if=DESTINATION.iso of=/dev/rdiskX bs=1m\n"}]}],"\n",["$","p",null,{"children":["The ",["$","code",null,{"children":"dd"}]," command does not show any output before it has finished the copy\nprocess, so be patient and wait for it to complete, it can take around 1 - 5\nminutes. When the command does complete OS X will try to mount the drive and\nfail as it won‚Äôt recognize the formatting. Click ignore."]}],"\n",["$","h2",null,{"id":"installing-arch","children":"Installing Arch"}],"\n",["$","p",null,{"children":["With the USB drive plugged in, restart the MacBook and press+hold down the left\n",["$","code",null,{"children":"option/alt"}]," key when you hear the startup chime. Hold the ",["$","code",null,{"children":"option"}]," key down\nuntil the drive screen appears."]}],"\n",["$","p",null,{"children":"The USB drive should be one of the options. Pick it along with the first option\nthe following boot screen lists. Now you should be at the Arch live install\nprompt and it‚Äôll look like this:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    Arch Linux 3.17.6-1-ARCH (tty1)\n\n    archiso login: root (automatic login)\n    root@archiso ~ #\n"}]}],"\n",["$","p",null,{"children":"You are now running a ‚ÄúLive‚Äù session of Arch Linux from the USB stick."}],"\n",["$","p",null,{"children":["If you‚Äôre on a HiDPI / ‚ÄúRetina‚Äù display MacBook, the prompt is really small.\nIncrease the font-size using ",["$","code",null,{"children":"setfont sun12x22"}],"."]}],"\n",["$","h3",null,{"id":"test-internet","children":"Test Internet"}],"\n",["$","p",null,{"children":"You‚Äôll need a working Internet connection to do the post-install. My MacBook Pro\n7,1 and 8,2 both have Ethernet ports, but some of you will have later models\nwithout one. You should get a USB-Ethernet adapter. Its much easier than\nfiddling with wireless drivers as it works out of the box. We‚Äôll setup the\nwireless drivers later in this article."}],"\n",["$","p",null,{"children":"First, we need to get an IP address from your router:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"dhcpcd\n"}]}],"\n",["$","p",null,{"children":"With the adapter plugged in and an IP address, make sure internet is flowing by\npinging Google:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"ping -c 3 www.google.com\n"}]}],"\n",["$","p",null,{"children":"You should get a response that all three packets were sent and received."}],"\n",["$","h3",null,{"id":"set-the-system-clock","children":"Set the System Clock"}],"\n",["$","p",null,{"children":"The system clock should be just fine. The general Arch wiki recommends ensuring\nthe system clock is accurate, and I‚Äôve found it doesn‚Äôt seem to break anything.\nSo, I run it:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"timedatectl set-ntp true\n"}]}],"\n",["$","h3",null,{"id":"partition-the-hard-drive","children":"Partition the Hard Drive"}],"\n",["$","p",null,{"children":"A partition is basically a box on the hard drive to put files into. OS X has a\nbox for its files, and we‚Äôre going to create box(es) for GNU/Linux. Partitioning\nthe hard drive takes existing data on the drive and moves or erases it to make\nspace available for other file systems."}],"\n",["$","p",null,{"children":"This part is the trickiest because it can erase data on the disk, so take care."}],"\n",["$","p",null,{"children":"Apple uses the GUID Partition Table (GPT), and we‚Äôre going to keep that\npartition table."}],"\n",["$","p",null,{"children":["In order to proceed you‚Äôll need to know the drive mapping scheme, we‚Äôll use\n",["$","code",null,{"children":"fdisk"}]," to check the scheme:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"fdisk -l\n"}]}],"\n",["$","p",null,{"children":["This lists the existing partitions. If you created two partitions when preparing\nthe MacBook, you should see a partition with a Type of ",["$","code",null,{"children":"Apple HFS/HFS+"}]," with a\nsize that matches the size you set aside for Arch. In my case this was\n",["$","code",null,{"children":"/dev/sda5"}],". All the partitioning commands below will use ",["$","code",null,{"children":"/dev/sda5"}],", ",["$","strong",null,{"children":"you\nshould substitute the designation for your drive"}],"."]}],"\n",["$","p",null,{"children":["Lets use ",["$","code",null,{"children":"cgdisk"}]," to view the partition table on the attached devices: Replace\nthe ",["$","code",null,{"children":"Y"}]," with the drive you‚Äôll be using to install Arch Linux."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cgdisk /dev/sdY\n"}]}],"\n",["$","p",null,{"children":"At the end of the partition table should be the free space you set aside for\ninstalling Arch. With that space, we‚Äôre going to create a new partition. You\njust need to make one partition; we‚Äôre going to break it into sub-partitions\nlater; after encryption is setup."}],"\n",["$","p",null,{"children":["I added 128MB between the last partition and my new partition\n",["$","a",null,{"href":"https://developer.apple.com/library/mac/technotes/tn2166/_index.html","children":"because of this explanation by Apple"}],"."]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"Note: We leave free space after each partition to make it easier for future\nsystem software to manipulate the partition map in ways that we can‚Äôt\nanticipate currently."}],"\n"]}],"\n",["$","p",null,{"children":["Begin by deleting the ",["$","code",null,{"children":"HFS"}]," partition created when you set aside space in OS X\nfor Arch Linux."]}],"\n",["$","p",null,{"children":["In order to leave additional space, just type ",["$","code",null,{"children":"+128M"}]," when you create the new\npartition, and it‚Äôll set the starting sector at a point 128M away from the\nending sector of the partition before it."]}],"\n",["$","p",null,{"children":["You‚Äôll want to use Linux LVM (",["$","code",null,{"children":"8e00"}],") as the partition type id. The final\npartition table will look something like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    Part. #     Size        Partition Type            Partition Name\n    ----------------------------------------------------------------\n    3.0 KiB      free space\n    1        200.0 MiB      EFI System                EFI System Partition\n    2         74.5 GiB      Apple HFS/HFS+            Macintosh HD\n    128.0 MiB      free space\n    3        391.1 GiB      Linux LVM                 ArchLinux\n"}]}],"\n",["$","p",null,{"children":"Then use the utility to select Write and then confirm that you want to overwrite\nthe disk. Once the display returns you can Quit."}],"\n",["$","p",null,{"children":["Running ",["$","code",null,{"children":"fdisk -l"}]," again should show your new partition scheme. If it doesn‚Äôt\nlook like you want or expected, repeat the ",["$","code",null,{"children":"cgdisk"}]," process to fix things until\nyou‚Äôre satisfied."]}],"\n",["$","h3",null,{"id":"configuring-drive-encryption-and-lvm","children":"Configuring Drive Encryption and LVM"}],"\n",["$","p",null,{"children":["You‚Äôll want to make note of the partition number you just created. For me it‚Äôs\npartition ",["$","code",null,{"children":"5"}],", and the drive is ",["$","code",null,{"children":"sda"}],", so my Arch Linux partition can be found\nat ",["$","code",null,{"children":"/dev/sda5"}],". I‚Äôll be using that as an example going forward, ",["$","strong",null,{"children":"but you should\nsubstitute your own drive path"}],"."]}],"\n",["$","p",null,{"children":["We‚Äôre going to encrypt ",["$","code",null,{"children":"/dev/sda5"}]," using DM-Crypt and then the LVM partitions\nare going to be created over that LUKS encryption layer. This system is called\n‚ÄúLVM on LUKS.‚Äù Both LUKS encryption and LVM support are provided by the\nGNU/Linux kernel."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}]," This will just encrypt the system ",["$","code",null,{"children":"/"}]," and ",["$","code",null,{"children":"/home"}]," directories. The\n",["$","code",null,{"children":"/boot"}]," directory will not be encrypted because we‚Äôre going to keep the existing\n",["$","code",null,{"children":"/boot"}]," partition: That‚Äôs ",["$","code",null,{"children":"/dev/sda1"}]," in my partition table above."]}],"\n",["$","p",null,{"children":["If you want to use custom ciphers, there are some great notes\n",["$","a",null,{"href":"https://github.com/NoviceLive/unish/blob/master/doc/arch-install.sh#L101","children":"available on GitHub"}],".\nYou can also use the following command for speed benchmarking to help determine\nwhich ciphers and key-sizes are fast enough for your particular use case:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cryptsetup benchmark\n"}]}],"\n",["$","p",null,{"children":["Time to pick the encryption flavors! The default values for the cipher and key\nsizes were a bit too light for my tastes (in light of the NSA spying scandal).\nI‚Äôve increased these numbers above the defaults, I‚Äôve chosen to balance my\nprincipals for privacy and security with practical usability and speed. Feel\nfree to\n",["$","a",null,{"href":"https://wiki.archlinux.org/index.php/Dm-crypt/Device_encryption#Encryption_options_for_LUKS_mode","children":"read more on these settings"}],"."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cryptsetup --cipher aes-xts-plain64 \\\n  --key-size 512 \\\n  --hash sha256 \\\n  --iter-time 3000 \\\n  --use-random \\\n  --verify-passphrase \\\n  luksFormat /dev/sda5\n"}]}],"\n",["$","p",null,{"children":"Enter in a good passphrase (twice), and we should be good to go."}],"\n",["$","p",null,{"children":"Now with the encryption setup, we‚Äôre going to create the necessary volumes and\nfilesystems within the LVM."}],"\n",["$","p",null,{"children":"First, let‚Äôs open up our encrypted partition:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cryptsetup luksOpen /dev/sda5 lvm\n"}]}],"\n",["$","p",null,{"children":["This is going to map our encrypted device (",["$","code",null,{"children":"/dev/sda5"}]," in my case) to\n",["$","code",null,{"children":"/dev/mapper/lvm"}],". Now we‚Äôre going to create the physical and logical volumes\nfor the ",["$","code",null,{"children":"/"}]," and ",["$","code",null,{"children":"/home"}]," directories. I gave the ",["$","code",null,{"children":"/"}]," directory 40GB (hopefully\nenough for all my programs. As of writing this, and with a full install, I‚Äôm\nusing 10GB on my ",["$","code",null,{"children":"/"}]," directory. So, I think I‚Äôm good."]}],"\n",["$","p",null,{"children":"Create the physical volume:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"pvcreate /dev/mapper/lvm\n"}]}],"\n",["$","p",null,{"children":["Now create the volume with the name ",["$","code",null,{"children":"vgcrypt"}],":"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"vgcreate vgcrypt /dev/mapper/lvm\n"}]}],"\n",["$","p",null,{"children":["We‚Äôre ready to create the logical volumes now, ",["$","code",null,{"children":"40GB"}]," for root and the rest for\nusers‚Äô home, change ",["$","code",null,{"children":"40GB"}]," accordingly:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"lvcreate --size 40G --name root vgcrypt\nlvcreate --extents +100%FREE --name home vgcrypt\n"}]}],"\n",["$","p",null,{"children":["We now have our two volumes ",["$","code",null,{"children":"vgcrypt-root"}]," and ",["$","code",null,{"children":"vgcrypt-home"}],". They need to be\nformatted to a particular filesystem. I‚Äôve been happy with the ",["$","code",null,{"children":"ext4"}],"\nfilesystem."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"mkfs.ext4 /dev/mapper/vgcrypt-root\nmkfs.ext4 /dev/mapper/vgcrypt-home\n"}]}],"\n",["$","p",null,{"children":["We can now mount these new partitions. Make sure to mount the root partition\nfirst so we can create the ",["$","code",null,{"children":"/home"}]," directory inside of it for the home\npartition:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"mount /dev/mapper/vgcrypt-root /mnt\nmkdir -p /mnt/home\nmount /dev/mapper/vgcrypt-home /mnt/home\n"}]}],"\n",["$","p",null,{"children":"Lets also mount our boot partition, while we‚Äôre here. This is required so our\nbootable initramfs can be written to the boot drive:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"mkdir -p /mnt/boot\nmount /dev/sda1 /mnt/boot\n"}]}],"\n",["$","p",null,{"children":["If you‚Äôre interested in swap partition schemes,\n",["$","a",null,{"href":"https://github.com/NoviceLive/unish/blob/master/doc/arch-install.sh#L127","children":"check this script out"}],"\n‚àí although I‚Äôm fine without swap partitions (Its faster with enough RAM)."]}],"\n",["$","p",null,{"children":"And with that, Arch is now ready to be installed on the disk."}],"\n",["$","h3",null,{"id":"select-a-mirror","children":"Select a Mirror"}],"\n",["$","p",null,{"children":"This step can optionally be skipped, but I prefer to choose a US server just in\ncase it may be faster. Open up the mirrorlist:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"vi /etc/pacman.d/mirrorlist\n"}]}],"\n",["$","p",null,{"children":"Delete or comment out all the servers except one or two near you that seem good."}],"\n",["$","h3",null,{"id":"install-the-base-system","children":"Install the Base System"}],"\n",["$","p",null,{"children":"Actually installing Arch Linux onto the drive is the easiest part:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"pacstrap -i /mnt base base-devel terminus-font\n"}]}],"\n",["$","p",null,{"children":["The ",["$","code",null,{"children":"-i"}]," flag asks for confirmation before installing packages. I like using it\njust so I can see what‚Äôs being installed. (After all that‚Äôs part of the reason\nfor using GNU/Linux, right? To know what‚Äôs being installed on your system.)"]}],"\n",["$","p",null,{"children":["This installation includes ",["$","code",null,{"children":"terminus-font"}],", which we‚Äôll configure to be the\ndefault console font later on."]}],"\n",["$","h3",null,{"id":"generate-the-fstab","children":"Generate the fstab"}],"\n",["$","p",null,{"children":"If all went according to plan, Arch has been written to the hard drive and is\nnow installed. Before rebooting into our installation, though, we need to tell\nthe system where to find the filesystems we created earlier for root and home\ndirectories."}],"\n",["$","p",null,{"children":["While it‚Äôs normally a good idea to use UUIDs to find disks, we‚Äôre going to use\nlabels. This is because our encryption setup generates random IDs for the disks\nwhen they‚Äôre decrypted. Let‚Äôs create the ",["$","code",null,{"children":"fstab"}]," file:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"genfstab -L -p /mnt >> /mnt/etc/fstab\n"}]}],"\n",["$","p",null,{"children":["The ",["$","code",null,{"children":"-L"}]," flag will generate the fstab file with labels instead of UUIDs. The\n",["$","code",null,{"children":"-p"}]," flag prevents pseudo-filesystems from being added."]}],"\n",["$","p",null,{"children":"Always check the generated fstab:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cat /mnt/etc/fstab\n"}]}],"\n",["$","p",null,{"children":"It should look something like this:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"#\n# /etc/fstab: static file system information\n#\n# <file system>    <dir><type><options>             <dump><pass>\n# /dev/mapper/vgcrypt-root\n/dev/mapper/vgcrypt-root    /           ext4   discard,rw,relatime,data=ordered    0 1\n\n# /dev/mapper/vgcrypt-home\n/dev/mapper/vgcrypt-home    /home       ext4   discard,rw,relatime,data=ordered    0 2\n"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}]," If your hard drive is a solid-state drive (SSD) and the ",["$","code",null,{"children":"discard"}],"\noption isn‚Äôt there, edit the fstab file and add it. It‚Äôs used for optimizing for\nthe speed of SSDs."]}],"\n",["$","h3",null,{"id":"configure-the-system","children":"Configure The System"}],"\n",["$","p",null,{"children":"We‚Äôre now ready to configure our new system. Let‚Äôs change root into it:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"arch-chroot /mnt /bin/bash\n"}]}],"\n",["$","p",null,{"children":["Set our system locale. I‚Äôm in the US, so I‚Äôll only uncomment that locale from\n",["$","code",null,{"children":"/etc/locale.gen"}],":"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"...\nen_US.UTF-8 UTF-8\nen_US ISO-8859-1\n...\n"}]}],"\n",["$","p",null,{"children":"Now generate the locales:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"locale-gen\n"}]}],"\n",["$","p",null,{"children":"Make English UTF-8 the default:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"echo LANG=en_US.UTF-8 > /etc/locale.conf\n"}]}],"\n",["$","p",null,{"children":["The default font in the virtual console is not very readable, so lets use one\nthat is far more readable. We‚Äôre going to use the typeface ‚ÄúTerminus‚Äù in size 18\nthat we installed with the base system earlier. ",["$","code",null,{"children":"ter-118n"}]," basically means\n‚ÄúTerminus latin-1 size 18 Normal‚Äù. There are other sizes available: 12, 14, 16,\n20, 22, 24, 28, 32 as well as support for multiple non-English code pages."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"echo FONT=ter-118n > /etc/vconsole.conf\n"}]}],"\n",["$","p",null,{"children":"Set the timezone accordingly. (I live on the east coast):"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime\n"}]}],"\n",["$","p",null,{"children":"And set the time to the standard UTC:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"hwclock --systohc --utc\n"}]}],"\n",["$","p",null,{"children":["Because we‚Äôve encrypted our root disk, we need to make sure the kernel loads the\nproper modules to decrypt it on startup. Otherwise we won‚Äôt be able to boot from\nthe unencrypted drive. We‚Äôre also going to tell the boot-sequence to load our\ncustom font and keyboard module so we can type our passwords during boot. Edit\n",["$","code",null,{"children":"/etc/mkinitcpio.conf"}]," and add the hooks ",["$","code",null,{"children":"consolefont keyboard encrypt lvm2"}],"\n",["$","strong",null,{"children":"BEFORE"}]," ",["$","code",null,{"children":"filesystems"}]," so the HOOKS line looks like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"HOOKS=\"base udev autodetect modconf block consolefont keyboard usbinput encrypt lvm2 filesystems fsck\"\n"}]}],"\n",["$","p",null,{"children":"Now we need to regenerate the initramfs image:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"mkinitcpio -p linux\n"}]}],"\n",["$","p",null,{"children":["So that Internet will work on reboot, we need to enable the ",["$","code",null,{"children":"dhcpcd"}]," service.\nWe‚Äôre going to keep using the ethernet-USB adapter for right now. We‚Äôll get\nwireless setup later. Get the name of the ethernet interface:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"ip link\n"}]}],"\n",["$","p",null,{"children":["It should be ",["$","code",null,{"children":"enp"}],"-something. With that, enable the service, make sure you\nreplace INTERFACE with your interfaces name."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"systemctl enable dhcpcd@INTERFACE.service\n"}]}],"\n",["$","p",null,{"children":["Finally, let‚Äôs configure the machine‚Äôs hostname. You can change ",["$","code",null,{"children":"macbook"}]," to\nwhatever you‚Äôd like:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"echo macbook > /etc/hostname\n"}]}],"\n",["$","p",null,{"children":["Add this hostname to the list of hosts. Edit ",["$","code",null,{"children":"/etc/hosts"}]," and edit so it looks\nsomething like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"#\n# /etc/hosts: static lookup table for host names\n#\n\n#<ip-address>   <hostname.domain.org>   <hostname>\n127.0.0.1   localhost.localdomain   localhost   macbook\n::1     localhost.localdomain   localhost   macbook\n"}]}],"\n",["$","p",null,{"children":"Set a root password:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"passwd\n"}]}],"\n",["$","p",null,{"children":"Create a non-root user for yourself and set the user‚Äôs password, replace USER\nwith the username of your choosing:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"useradd --create-home --groups wheel --shell /bin/bash USER\npasswd USER\n"}]}],"\n",["$","p",null,{"children":["This will create the user, add it to the group wheel (traditional group of users\nwho can run ",["$","code",null,{"children":"sudo"}]," commands), create a home directory under ",["$","code",null,{"children":"/home/USER/"}]," and\nmake his default shell ",["$","code",null,{"children":"bash"}]," then set a default password for the user."]}],"\n",["$","p",null,{"children":["Don‚Äôt switch to the new user yet, because we‚Äôe added USER to the group ",["$","code",null,{"children":"wheel"}],",\nlets grant the wheel group ",["$","code",null,{"children":"sudo"}]," privileges. Run:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"visudo\n"}]}],"\n",["$","p",null,{"children":"And uncomment the following line so it looks like so:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"%wheel ALL=(ALL) ALL\n"}]}],"\n",["$","h3",null,{"id":"boot-loader","children":"Boot Loader"}],"\n",["$","p",null,{"children":["Now we need to let the boot loader know where to find our new Arch Linux\ninstallation. ",["$","code",null,{"children":"systemd"}]," (was recently renamed, was Gummiboot) is a nice, simple\nboot loader."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S systemd              # May be systemd-boot, included in core?\nmkdir -p /boot/loader/entries\n"}]}],"\n",["$","p",null,{"children":["Setup the loader to default to arch and set the number of seconds to timeout in\nthe file ",["$","code",null,{"children":"/boot/loader/loader.conf"}],":"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"default arch\ntimeout 3\n"}]}],"\n",["$","p",null,{"children":["Make sure the correct boot partition (",["$","code",null,{"children":"/dev/sda1"}]," in my case) is mounted on\n",["$","code",null,{"children":"/boot"}]," by running:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"findmnt /boot\n-------------------------\nTARGET SOURCE    FSTYPE OPTIONS\n/boot  /dev/sda1 vfat   rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,err\n"}]}],"\n",["$","p",null,{"children":["Now we‚Äôre going to create an entry called ",["$","code",null,{"children":"/boot/loader/entries/arch.conf"}]," that\nlooks like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /boot/loader/entries/arch.conf\ntitle   Arch Linux\nlinux   /vmlinuz-linux\ninitrd  /initramfs-linux.img\noptions cryptdevice=/dev/sdaX:vgcrypt:allow-discards root=/dev/mapper/vgcrypt-root rw\n"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}],":",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-7","id":"user-content-fnref-7","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"3"}]}]," On the options\nline, make sure you replace ",["$","code",null,{"children":"/dev/sdaX"}]," with the path to the encrypted linux\npartition we previously created on your device (It was ",["$","code",null,{"children":"/dev/sda5"}]," in this\nguide). Additionally, if your drive is ",["$","em",null,{"children":"not"}]," a SSD, make sure to remove\n",["$","code",null,{"children":":allow-discards"}],"."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}],":",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-9","id":"user-content-fnref-9","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"4"}]}]," Its been reported\nby some users that when booting to USB, the USB drive is assigned device id\n",["$","code",null,{"children":"/dev/sda"}]," and the hard drive to ",["$","code",null,{"children":"/dev/sdb"}],". When rebooting without USB drive\n(boot to new encrypted linux drive partition), the hard drive is reassigned to\ndevice id ",["$","code",null,{"children":"/dev/sda"}]," which may invalidate the above ",["$","code",null,{"children":"arch.conf"}]," boot loader\nentry. In this case, the encrypted linux partition will not boot because the\nboot loader config ",["$","code",null,{"children":"arch.conf"}]," is configured to boot from ",["$","code",null,{"children":"/dev/sdb"}],". In this\ncase you can reboot to USB again, and edit the options line in ",["$","code",null,{"children":"arch.conf"}]," to\nread ",["$","code",null,{"children":"/dev/sdaX"}],". Replace X with your partition id."]}],"\n",["$","p",null,{"children":["Check the boot tree with ",["$","code",null,{"children":"tree /boot/"}]," (If ",["$","code",null,{"children":"tree"}]," isn‚Äôt installed, install it\nwith ",["$","code",null,{"children":"pacman -S tree"}],"). It should look something like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"/boot/\n‚îú‚îÄ‚îÄ EFI\n‚îÇ   ‚îú‚îÄ‚îÄ APPLE\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EXTENSIONS\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Firmware.scap\n‚îÇ   ‚îú‚îÄ‚îÄ Boot\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BOOTX64.EFI\n‚îÇ   ‚îî‚îÄ‚îÄ gummiboot\n‚îÇ       ‚îî‚îÄ‚îÄ gummibootx64.efi\n‚îú‚îÄ‚îÄ initramfs-linux-fallback.img\n‚îú‚îÄ‚îÄ initramfs-linux.img\n‚îú‚îÄ‚îÄ loader\n‚îÇ   ‚îú‚îÄ‚îÄ entries\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ arch.conf\n‚îÇ   ‚îî‚îÄ‚îÄ loader.conf\n‚îî‚îÄ‚îÄ vmlinuz-linux\n"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}],": At this point, you may want to enable suspend-to-disk (No power\nconsumption aka ‚ÄúHibernate‚Äù mode). I‚Äôve chosen not to enable this functionality,\nbut if you‚Äôre interested, you can\n",["$","a",null,{"href":"http://loicpefferkorn.net/2015/01/arch-linux-on-macbook-pro-retina-2014-with-dm-crypt-lvm-and-suspend-to-disk/#suspend-to-disk-uswsusp:385892e3ac2613dca78d22bd09dbae7d","children":"read about it here"}],"."]}],"\n",["$","p",null,{"children":["Now we can have the bootloader write the initramfs onto the boot partition using\n",["$","code",null,{"children":"bootctl"}],", part of the systemd-boot package."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"bootctl install\n"}]}],"\n",["$","h3",null,{"id":"reboot-into-new-installation","children":"Reboot into New Installation"}],"\n",["$","p",null,{"children":"Let‚Äôs leave the chroot environment we used for the install:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"exit\n"}]}],"\n",["$","p",null,{"children":"You can umount and close the encrypted volume:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"umount -R /mnt\ncryptsetup close vgcrypt\n"}]}],"\n",["$","p",null,{"children":"It‚Äôs not a bad idea to just double check the encryption to make sure it opens\nand mounts properly:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"cryptsetup open /dev/sda5 vgcrypt\nmount /dev/mapper/vgcrypt /mnt\n"}]}],"\n",["$","p",null,{"children":"If all goes accordingly, you can unmount and close the encryption again. And\nfinally‚Ä¶"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"reboot\n"}]}],"\n",["$","p",null,{"children":"On reboot you should be greeted with the boot menu. After selecting Arch (or\nwaiting for it to timeout), you should be prompted for your password to decrypt\nthe drive, and then it should boot into the console."}],"\n",["$","h2",null,{"id":"configuring-arch","children":"Configuring Arch"}],"\n",["$","p",null,{"children":"You should now be running Arch Linux! Lets customize it and make it more useful."}],"\n",["$","h3",null,{"id":"install-an-arch-user-repository-package-manager","children":"Install an Arch User Repository Package Manager"}],"\n",["$","p",null,{"children":["Now we‚Äôre about to dive deep into customizing Arch Linux installation with the\nutilities and application we‚Äôll be using on a day-to-day basis. To facilitate\ninstalling packages from the wider Arch User Repository (AUR), we‚Äôll install a\nutility named ",["$","code",null,{"children":"yaourt"}],". You can (of course) maintain AUR package installations\nmanually, but I like a helper to help me manage them. yaourt is like the\nHomebrew of Arch Linux. I use\n",["$","a",null,{"href":"https://wiki.archlinux.org/index.php/Yaourt","children":"yaourt"}]," because it‚Äôs easy to\ninstall, takes the same optional flags as ",["$","code",null,{"children":"pacman"}],", and works well."]}],"\n",["$","p",null,{"children":["You need to use the ‚Äúofficial‚Äù and manual way of installing AUR packages to get\nyaourt installed. It also requires ",["$","code",null,{"children":"package-query"}]," from the AUR, so we‚Äôre going\nto install that first."]}],"\n",["$","p",null,{"children":["Now we‚Äôre going to download the ",["$","code",null,{"children":"package-query"}]," AUR package, unarchive it, and\nuse pacman to build and install the package. This allows us to manage the\npackage as if it was installed with pacman, although we‚Äôre manually installing\nit."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ cd ~\n$ curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/package-query.tar.gz\n$ tar -xvzf package-query.tar.gz\n$ cd package-query\n"}]}],"\n",["$","p",null,{"children":"Within the packages‚Äô folder, we‚Äôre going to run the following to build it:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ makepkg -s\n"}]}],"\n",["$","p",null,{"children":"This will run as your regular user only asking you for your root password if\nnecessary. With the package made, we can install it via pacman:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -U package-query-1.6.2-1-x86_64.pkg.tar.xz\n"}]}],"\n",["$","p",null,{"children":"Now we‚Äôll do the same for yaourt:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ cd ~\n$ curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/yaourt.tar.gz\n$ tar -xvzf yaourt.tar.gz\n$ cd yaourt\n$ makepkg -s\n# pacman -U yaourt-1.6-1-any.pkg.tar.xz\n"}]}],"\n",["$","p",null,{"children":["From now on you can use ",["$","code",null,{"children":"pacman"}]," and ",["$","code",null,{"children":"yaourt"}]," interchangeably‚Ä¶ for the most\npart. ",["$","code",null,{"children":"yaourt"}]," will install Arch repository packages and AUR packages. ",["$","code",null,{"children":"pacman"}],",\nthough, will continue to only install Arch repository packages."]}],"\n",["$","h3",null,{"id":"configure-sound","children":"Configure Sound"}],"\n",["$","p",null,{"children":"ALSA works out of the box with Macs so install it via:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S alsa-utils\n"}]}],"\n",["$","p",null,{"children":"Then use:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"alsamixer\n"}]}],"\n",["$","p",null,{"children":"to control the speakers. Make sure to disable channels for speakers you don‚Äôt\nhave. Test your speakers with:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"speaker-test -c 2\n"}]}],"\n",["$","p",null,{"children":"where 2 is the number of speakers."}],"\n",["$","h3",null,{"id":"install-x-and-video-drivers","children":"Install X and Video Drivers"}],"\n",["$","p",null,{"children":"As this is going to be a graphical interface, we need are graphics card up and\nrunning with the proper drivers. Luckily this machine uses Intel graphics, and\nIntel is pretty good about providing Linux (and sometimes open-source) drivers."}],"\n",["$","p",null,{"children":"For Macbookpro 7,1 (Mid-2010 or 8,2 (Early-2011):"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S xf86-video-intel mesa-libgl libva-intel-driver libva\n"}]}],"\n",["$","p",null,{"children":["For Macbookpro 11,3\n(Late-2013)",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-8","id":"user-content-fnref-8","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"5"}]}]]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S nvidia mesa-libgl libva-intel-driver libva\n"}]}],"\n",["$","p",null,{"children":["The ",["$","code",null,{"children":"-S"}]," flag tells pacman to install the subsequent packages listed. (Again,\nyou can use yaourt if you‚Äôd like.) This will install the Intel video driver, the\nMesa OpenGL graphics library, and video acceleration API for Intel graphics\nchipsets. It‚Äôll likely ask you to install additional dependencies. Get all the\ndependencies!"]}],"\n",["$","p",null,{"children":"With the necessary drivers installed, we can get Xorg (or the X Window System)\ninstalled."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S xorg-server xorg-server-utils xorg-xinit xterm\n"}]}],"\n",["$","p",null,{"children":"I like to install the Xorg utilities, too, because there are at least a couple\nI‚Äôll use later (either in this guide or another) that are helpful in improving\nHiDPI support for the MacBook‚Äôs HiDPI Retina display."}],"\n",["$","h3",null,{"id":"some-gui-applications","children":"Some GUI Applications"}],"\n",["$","p",null,{"children":"Next we‚Äôll install a browser. This will install some typeface dependencies and\nfont- rendering libraries that we‚Äôll be tweaking later."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S firefox\n"}]}],"\n",["$","h3",null,{"id":"improved-typography","children":"Improved Typography"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":["Update",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-10","id":"user-content-fnref-10","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"6"}]}]]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":["It appears\n",["$","a",null,{"href":"https://github.com/bohoomil/fontconfig-ultimate/issues/191","children":"the package maintainer for Infinality has gone dark"}]]}],".\nSkip this section and ",["$","a",null,{"href":"#window-manager-awesome","children":"continue to the next"}]," until\nthere is a solution for better typography on the linux desktop."]}],"\n",["$","p",null,{"children":"If you use the web and appreciate typography, you‚Äôll want to install a set of\ndecent fonts."}],"\n",["$","p",null,{"children":["Infinality is a package group that has been meticulously crafted from the\nground-up to provide beautifully rendered typography to the Linux platform. The\npackage maintainer spent a ton of time tearing down the existing font stack, and\ncarefully rebuilding it to provide fast-rendering fonts that more faithfully\npresent the typography than either Windows, OS X or Ubuntu systems. It also\nprovides a set of preset-configurations that allow the user to switch to a\nWindows-like or OS X-like configuration. I highly recommend\n",["$","a",null,{"href":"http://bohoomil.com/doc/","children":"reading the documentation"}]," if you‚Äôd like to know more\nabout typography rendering on GNU/Linux."]}],"\n",["$","p",null,{"children":["First add the following package repositories to ",["$","code",null,{"children":"/etc/pacman.conf"}],"."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"    [infinality-bundle]\n    Server = http://bohoomil.com/repo/$arch\n    [infinality-bundle-fonts]\n    Server = http://bohoomil.com/repo/fonts\n"}]}],"\n",["$","p",null,{"children":["Next we‚Äôll add the\n",["$","a",null,{"href":"https://bbs.archlinux.org/viewtopic.php?id=162098","children":"package maintainers PGP key"}],"\nto the package database, update the package database and install the packages."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman-key -r 962DDE58\n# pacman-key --lsign-key 962DDE58\n# pacman -Syyu\n# pacman -S infinality-bundle\n# pacman -S infinality-bundle-fonts\n"}]}],"\n",["$","p",null,{"children":["Make sure to select the option ",["$","code",null,{"children":"fontconfig-infinality-ultimate"}]," as that\nconfiguration\n",["$","a",null,{"href":"http://bohoomil.com/doc/01-overview/","children":"is the most clean, efficient and looks the best out of the box"}],".\nThe installation may ask to use the Infinality packages in place of the\ndependencies installed by Firefox. Choose the Infinality packages."]}],"\n",["$","p",null,{"children":"To enable selection of predefined font substitution styles and antialiasing\nsettings, apart from the rendering settings of the engine itself. After doing\nso, you can select the font style (win7, winxp, osx, linux, ‚Ä¶) with:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# fc-presets set\n"}]}],"\n",["$","h3",null,{"id":"window-manager-awesome","children":"Window Manager Awesome"}],"\n",["$","p",null,{"children":"Awesome is a tiling window manager for the user that prefers keyboard commands\nto mouse or touchpad, and treats window chrome as needless ornamentation. Your\napplication content is king, and efficiency is the goal. Its quick and light.\nLets install the window manager (WM), awesome."}],"\n",["$","p",null,{"children":"To install:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S awesome\n"}]}],"\n",["$","p",null,{"children":["Added this",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-5","id":"user-content-fnref-5","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"7"}]}]," to run ",["$","code",null,{"children":"awesome"}],"\nwhen x starts:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"echo exec awesome > .xinitrc\n"}]}],"\n",["$","h3",null,{"id":"touchpad-support","children":"Touchpad Support"}],"\n",["$","p",null,{"children":"You‚Äôll probably want to use your MacBook‚Äôs touchpad when you have a GUI. The\nsimplest driver is the synaptics driver:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S xf86-input-synaptics\n"}]}],"\n",["$","p",null,{"children":["The following config at /usr/share/X11/xorg.conf.d/70-synaptics.conf works well\nfor me, it uses the same ‚ÄúNatural Motion‚Äù that OS X does. Copy that file to the\nfollowing location ",["$","code",null,{"children":"/etc/X11/xorg.conf.d/70-synaptics.conf"}]," and add the options\nbetween the ",["$","code",null,{"children":"START"}]," and ",["$","code",null,{"children":"END"}]," comments."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"Section \"InputClass\"\n    MatchIsTouchpad \"on\"\n    Identifier      \"touchpad catchall\"\n    Driver          \"synaptics\"\n\n    # START: Add these options\n    # 1 = left, 2 = right, 3 = middle\n    Option          \"TapButton1\" \"1\"\n    Option          \"TapButton2\" \"3\"\n    Option          \"TapButton3\" \"2\"\n    # Palm detection\n    Option          \"PalmDetect\" \"1\"\n    # Horizontal scrolling\n    Option \"HorizTwoFingerScroll\" \"1\"\n    Option \"VertTwoFingerScroll\" \"on\"\n    # Natural Scrolling (and speed)\n    Option \"VertScrollDelta\" \"-450\"\n    Option \"HorizScrollDelta\" \"-450\"\n    # END\nEndSection\n"}]}],"\n",["$","h3",null,{"id":"configuring-wireless","children":"Configuring Wireless"}],"\n",["$","p",null,{"children":"Before rebooting into our lovely new GUI, let‚Äôs get wireless setup to work when\nwe reboot."}],"\n",["$","p",null,{"children":["This particular machine has the Broadcom BCM4360 wireless chipset. Broadcom has\nbeen pretty mixed in the FLOSS support it seems. The BCM4360 is not supported by\nthe kernel itself, so we‚Äôll need to use Broadcom‚Äôs non-free, non-open driver:\n",["$","code",null,{"children":"broadcom-wl"}],". I actually don‚Äôt think this even officially supports the BCM4360\nchipset, but it works well enough. We‚Äôll need to install the AUR package:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ yaourt -S broadcom-wl dialog wpa_supplicant\n"}]}],"\n",["$","p",null,{"children":"And activate the kernel module:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# modprobe wl\n"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note"}],": If you update to a newer kernel in the future, you may need to\nuninstall and reinstall the ",["$","code",null,{"children":"broadcom-wl"}]," package so it updates with the new\nlinux-header."]}],"\n",["$","p",null,{"children":["We need to stop the dhcpcd service we were using for the ethernet and start the\n",["$","code",null,{"children":"wifi-menu"}],["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-1","id":"user-content-fnref-1-2","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"1"}]}]," utility.\nKeeping both running can cause conflicts."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# systemctl disable dhcpcd.service\n# wifi-menu\n"}]}],"\n",["$","p",null,{"children":"This will create and enable a systemd service that will start when the computer\nboots. Changes to the profile file will not propagate to the service file\nautomatically. After such changes, it is necessary to reenable the profile:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# netctl reenable PROFILE\n"}]}],"\n",["$","p",null,{"children":"After enabling a profile, it will be started at next boot."}],"\n",["$","p",null,{"children":["Finally, if you find your wireless is dropping connections, you may find turning\noff Wi-Fi power management. Simply create this as an executable ( chmod +x\n",["$","code",null,{"children":"/etc/pm/wireless"}]," and add the following contents:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"#!/bin/sh\niwconfig wlp2s0 power off\n"}]}],"\n",["$","h3",null,{"id":"done","children":"Done!"}],"\n",["$","p",null,{"children":"Now when you reboot, you should be all set to go start customizing to your\nheart‚Äôs content, adding applications as you‚Äôd like, and playing around with your\nnew Arch Linux box with Awesome.s"}],"\n",["$","h2",null,{"id":"fine-tuning","children":"Fine Tuning"}],"\n",["$","p",null,{"children":"Power settings took quite a bit of tweaking. Without these setting, the laptop\nran very hot, and drained battery life very fast. I would recommend following\nthese steps to improve battery life. There still may be room for improvement,\nthough."}],"\n",["$","p",null,{"children":"One more thing: If you search ‚ÄúMacBook Pro and Arch Linux‚Äù you‚Äôll probably read\nsome things about disabling ACPI interrupts that were causing overheating and\nhigh CPU usage. If you have updated to the latest version of OS X 10.10\n‚ÄúYosemite‚Äù then you should be OK to skip."}],"\n",["$","h3",null,{"id":"display-color-profile","children":"Display Color Profile"}],"\n",["$","p",null,{"children":["I noticed that colors seemed washed-out in Arch Linux, so this task will attempt\nto color-correct the display. Luckily a utility ",["$","code",null,{"children":"xcalib"}]," exists that can load\ncolor profiles from OS X as X options. This should give you true color-parity\nbetween operating systems."]}],"\n",["$","p",null,{"children":["First, boot into OS X and copy the color profiles located in\n",["$","code",null,{"children":"/Library/ColorSync/Profiles/Displays"}]," to somewhere so you can boot into\nGNU/Linux and copy them into your home directory. I created a directory named\n",["$","code",null,{"children":"~/.colorprofiles"}]," for these files."]}],"\n",["$","p",null,{"children":["Second, install the ",["$","code",null,{"children":"xcalib"}]," package from the Arch AUR."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"yaourt -S xcalib\n"}]}],"\n",["$","p",null,{"children":"Finally you can activate it by running:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"xcalib ~/.colorprofiles/FILENAME.icc\n"}]}],"\n",["$","p",null,{"children":["Where ",["$","code",null,{"children":"FILENAME"}]," is the path to your color profile file."]}],"\n",["$","p",null,{"children":["To load this color profile when X starts, I also added this command to the\n",["$","code",null,{"children":".xinitrc"}]," file in my home directory. Just make sure you replace ",["$","code",null,{"children":"FILENAME"}]," with\nthe name of your color-profile ",["$","code",null,{"children":".icc"}]," file exported from OS X."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"if [ `type -P xcalib` ]; then\n  # Use the color profile\n  xcalib ~/.colorprofiles/FILENAME.icc\nfi;\n"}]}],"\n",["$","h3",null,{"id":"display-color-correction","children":"Display Color Correction"}],"\n",["$","p",null,{"children":["If you spend as many hours looking at the display as I do, you‚Äôll quickly\nappreciate a display that adapts its colors to the time of day.\n",["$","a",null,{"href":"https://justgetflux.com","children":"F.lux"}]," adjusts monitor color temperature adaptively to\nease eye strain."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"yaourt -S xfluxd\n"}]}],"\n",["$","p",null,{"children":["Then edit ",["$","code",null,{"children":"/etc/xfluxd.conf"}]," to set your rough lat/long coordinates (in decimal\nformat) in order to correctly shift the color correction with the sunrise and\nsunset."]}],"\n",["$","p",null,{"children":["Finally, enable and start the ",["$","code",null,{"children":"xfluxd"}]," service. ",["$","strong",null,{"children":"Note"}]," you should run this as\nyour normal user, not as root."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"systemctl enable --user xfluxd\nsystemctl start --user xfluxd\n"}]}],"\n",["$","h3",null,{"id":"power-management","children":"Power Management"}],"\n",["$","p",null,{"children":["The power management from Arch out of the box is not very good. There are a few\ngood tools out there, but ",["$","code",null,{"children":"PowerTOP"}]," is nice because of its benchmarking\nutilities",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-2","id":"user-content-fnref-2","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"8"}]}],"."]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"PowerTOP is a tool provided by Intel to enable various powersaving modes in\nuserspace, kernel and hardware. It is possible to monitor processes and show\nwhich of them are utilizing the CPU and wake it from its Idle-States, allowing\nyou to identify applications with particular high power demands."}],"\n"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"yaourt -S powertop\n"}]}],"\n",["$","p",null,{"children":"You may want to put your laptop on battery power and calibrate powertop:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# powertop --calibrate\n"}]}],"\n",["$","p",null,{"children":"That‚Äôll cause the screen to blackout from time to time. Just let it run. It\ntakes a few minutes then your screen will come back on."}],"\n",["$","p",null,{"children":"You can create a systemd service that will launch powertop‚Äôs autotune settings\non startup."}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /etc/systemd/system/powertop.service\n\n[Unit]\nDescription=Powertop tunings\n\n[Service]\nType=oneshot\nExecStart=/usr/bin/powertop --auto-tune\n\n[Install]\nWantedBy=multi-user.target\n\nAnd enable it to automatically start at boot time, then start it for your\ncurrent boot session.\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# systemctl enable powertop.service\n# systemctl start powertop.service\n"}]}],"\n",["$","h3",null,{"id":"laptop-mode-tools","children":"Laptop Mode Tools"}],"\n",["$","p",null,{"children":["Laptop Mode Tools",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-6","id":"user-content-fnref-6","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"9"}]}]," is a\nlaptop power saving package for Linux systems. It is the primary way to enable\nthe Laptop Mode feature of the Linux kernel, which allows you to tweak a number\nof other power-related settings using a simple configuration file. Combined with\n",["$","code",null,{"children":"acpid"}]," and CPU frequency scaling, LMT provides a complete notebook power\nmanagement suite."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ yaourt -S laptop-mode-tools\n"}]}],"\n",["$","p",null,{"children":"If you want to enable laptop mode even on AC power, because you run the laptop\nattached to an external keyboard and monitor, edit:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /etc/laptop-mode/laptop-mode.conf`:\n...\nENABLE_LAPTOP_MODE_ON_AC=1\n...\nENABLE_LAPTOP_MODE_WHEN_LID_CLOSED=1\n"}]}],"\n",["$","p",null,{"children":["We‚Äôre going to disable LMT from handling CPU frequency scaling since we‚Äôve setup\n",["$","code",null,{"children":"cpupower"}]," to handle that:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /etc/laptop-mode/conf.d/cpufreq.conf\n...\n# CONTROL_CPU_FREQUENCY=\"AUTO\"\nCONTROL_CPU_FREQUENCY=0\n"}]}],"\n",["$","p",null,{"children":"and disable Intel pstate handling as well:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /etc/laptop-mode/conf.d/intel_pstate.conf\n# CONTROL_INTEL_PSTATE=\"auto\"\nCONTROL_INTEL_PSTATE=0\n"}]}],"\n",["$","p",null,{"children":"Finally, enable and start the systemd service:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# systemctl enable laptop-mode.service\n# systemctl start  laptop-mode.service\n"}]}],"\n",["$","h3",null,{"id":"acpid","children":"acpid"}],"\n",["$","p",null,{"children":["A very useful tool is from the ",["$","code",null,{"children":"acpi"}]," package, which provides battery\ninformation using the command ",["$","code",null,{"children":"acpi -v"}],". To install:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S acpi\n"}]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"acpid"}]," is an extensible daemon for handling ACPI events. It can run commands\nwhen the laptop lid is closed, etc."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S acpid\n# systemctl enable acpid.service\n# systemctl start  acpid.service\n"}]}],"\n",["$","h3",null,{"id":"cpu-frequency-scaling","children":"CPU Frequency Scaling"}],"\n",["$","p",null,{"children":["Another utility that will help with CPU frequency scaling is ",["$","code",null,{"children":"cpupower"}],", it\nprovides useful CLI utilities and a systemd service to change the CPU governor\nat boot."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ yaourt -S cpupower\n# systemctl enable cpupower\n# systemctl start cpupower\n"}]}],"\n",["$","p",null,{"children":["I use cpupower to modulate the CPU‚Äôs speeds. This keeps CPU in check from maxing\nout at all times. My cpupower config file at ",["$","code",null,{"children":"/etc/default/cpupower"}]," has the\nfollowing line changed:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"governor='powersave'\n"}]}],"\n",["$","p",null,{"children":"You should adjust this setting to your own needs."}],"\n",["$","h3",null,{"id":"temperature-management","children":"Temperature Management"}],"\n",["$","p",null,{"children":["Intel provides a daemon that will keep tabs on the CPUs‚Äô temperature and adjust\nsettings to keep it from getting too hot, its called ",["$","code",null,{"children":"thermald"}],"."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ yaourt -S thermald\n# systemctl enable thermald.service\n# systemctl start thermald.service\n"}]}],"\n",["$","h3",null,{"id":"fan-control","children":"Fan Control"}],"\n",["$","p",null,{"children":"Finally, the kernel doesn‚Äôt seem to have very fine control over the MacBook‚Äôs\nfan. The following script helps add fine-tuning for the fan that will increase\nits baseline speed and ramp it up gently, so it‚Äôs not an all-or-nothing kind of\nsetup."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ yaourt -S mbpfan-git\n# systemctl enable mbpfan.service\n# systemctl start mbpfan.service\n"}]}],"\n",["$","p",null,{"children":["By default the service runs in verbose mode which adds tons of output to the\nsystem journal. It basically works by measuring the CPU temp, adjusting the fan\nspeed accordingly, and then sleeping for a given number of seconds. With verbose\nmode on, it logs its wakeup every few seconds. That means a lot of writing to\nthe journal. So I changed the service under\n",["$","code",null,{"children":"/usr/lib/systemd/system/mbpfan.service"}]," so the following line reads like so:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"ExecStart=/usr/sbin/mbpfan -f\n"}]}],"\n",["$","h3",null,{"id":"apple-keyboard","children":"Apple Keyboard"}],"\n",["$","p",null,{"children":["To get the ",["$","code",null,{"children":"fn"}]," keys working in X, we will install ",["$","code",null,{"children":"xbindkeys"}]," which helps bind\nkeyboard keys to commands. We will bind keys for volume, keyboard and display\nbrightness."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S xbindkeys\nyaourt -S xorg-xbacklight kbdlight\n"}]}],"\n",["$","p",null,{"children":["Create your configuration file for xbindkeys: ",["$","code",null,{"children":".xbindkeysrc"}]]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# Increase volume 5% with Apple volume up\n\"amixer set Master playback 5%+\"\n    m:0x0 + c:123\n    XF86AudioRaiseVolume\n# Increase volume 5% with F12\n\"amixer set Master playback 5%+\"\n    m:0x0 + c:96\n\n\n# Decrease volume 5% with Apple volume down\n\"amixer set Master playback 5%-\"\n    m:0x0 + c:122\n    XF86AudioLowerVolume\n# Decrease volume 5% with F11\n\"amixer set Master playback 5%-\"\n    m:0x0 + c:95\n\n\n# Mute with Apple mute\n\"amixer set Master toggle\"\n    m:0x0 + c:121\n    XF86AudioMute\n# Mute with F10\n\"amixer set Master toggle\"\n    m:0x0 + c:76\n\n\n# Suspend system\n\"systemctl suspend\"\n    m:0x0 + Mod4 + c:107\n    Mod4 + XF86Eject\n\n\n# Dim keyboard\n\"kbdlight down\"\n    m:0x0 + c:237\n    XF86KbdBrightnessUp\n\n\n# Brighten keyboard\n\"kbdlight up\"\n    m:0x0 + c:238\n    XF86KbdBrightnessDown\n"}]}],"\n",["$","p",null,{"children":["Next we‚Äôll auto-start xbindkeys when X starts, add this to your ",["$","code",null,{"children":".xinitrc"}]," file:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"if [ `type -P xbindkeys` ]; then\n  # Load custom keyboard key bindings\n  xbindkeys\nfi;\n"}]}],"\n",["$","h3",null,{"id":"apple-trackpad","children":"Apple Trackpad"}],"\n",["$","p",null,{"children":["Finally",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-3","id":"user-content-fnref-3","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"10"}]}],", we‚Äôll setup a\nBluetooth Apple Trackpad. To do this, we‚Äôll install some bluetooth core\nutilities"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# pacman -S bluez bluez-utils\n# modprobe btusb  # Make sure bluetooth kernel module is loaded\n# systemctl enable bluetooth.service  # Start bluetooth on reboot\n# systemctl start bluetooth.service\n"}]}],"\n",["$","p",null,{"children":["To actually connect to the Trackpad, we‚Äôll use the ",["$","code",null,{"children":"bluetoothctl"}]," interactive\nutility to scan-for, discover, pair and connect to the Trackpad. (If your\nTrackpad is already paired with another device, make sure to turn it off, then\nlong-hold the power button until the LED flashes.)"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"$$ bluetoothctl\n> power on\n> scan on\n> agent on\n> devices    # You should see the MAC address of your Trackpad appear if its in discoverable mode\n> pair mac 28:37:37:2B:42:7A\n> connect 28:37:37:2B:42:7A\n"}]}],"\n",["$","p",null,{"children":["Then we‚Äôll setup some ",["$","code",null,{"children":"udev"}]," rules so USB Bluetooth is activated and loade when\nthe system boots up."]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"# /etc/udev/rules.d/10-local.rules\n# Set bluetooth power up\nACTION==\"add\", KERNEL==\"hci0\", RUN+=\"/usr/bin/hciconfig hci0 up\"\n"}]}],"\n",["$","h2",null,{"id":"conclusion","children":"Conclusion"}],"\n",["$","p",null,{"children":"Wrapping up, I have nothing to add other than what you do with your system is up\nto you."}],"\n",["$","h2",null,{"id":"references","children":"References"}],"\n",["$","p",null,{"children":"The following articles were very useful in providing some help and inspiration."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://mchladek.me/post/arch-mbp/","children":"Installing Arch Linux on a MacBook Pro - Michael Chladek"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"http://zanshin.net/2015/02/05/arch-linux-on-a-macbook-pro-part-1-creating-a-usb-installer/","children":"Introductory MacBook Arch Guide - Zanshin"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"http://loicpefferkorn.net/2015/01/arch-linux-on-macbook-pro-retina-2014-with-dm-crypt-lvm-and-suspend-to-disk/","children":"Arch Linux on MacBook Pro Retina 2014 with DM-Crypt, LVM and suspend to disk - Lo√Øc Pefferkorn"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://wiki.archlinux.org/index.php/MacBook","children":"ArchWiki MacBook"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://wiki.archlinux.org/index.php/MacBookPro11,x","children":"ArchWiki MacBookPro11,x"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://medium.com/@philpl/arch-linux-running-on-my-macbook-2ea525ebefe3#.ai90cnihe","children":"Arch Linux Running on my MacBook - Phil Pl√ºckthun"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.youtube.com/watch?v=Fzmm87oVQ6c","children":"My personal fight against the modern laptop"}]}],"\n"]}],"\n",["$","p",null,{"children":"Any changes to this article will be annotated with a footnote and explained\nhere."}],"\n",["$","section",null,{"data-footnotes":true,"className":"footnotes","children":[["$","h2",null,{"className":"sr-only","id":"footnote-label","children":"Footnotes"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"id":"user-content-fn-1","children":["\n",["$","p",null,{"children":["March 6, 2016: Previously used ",["$","code",null,{"children":"NetworkManager"}]," to detect\nand connect to WiFi networks, but have changed to use\n",["$","code",null,{"children":"netctl"}]," and ",["$","code",null,{"children":"wifi-menu"}]," as these commands are\nmore low-level and have fewer dependencies. ",["$","a",null,{"href":"#user-content-fnref-1","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]," ",["$","a",null,{"href":"#user-content-fnref-1-2","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":["‚Ü©",["$","sup",null,{"children":"2"}]]}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-4","children":["\n",["$","p",null,{"children":["March 14, 2016: Thanks\n",["$","a",null,{"href":"https://www.reddit.com/r/archlinux/comments/493k4n/installing_encrypted_arch_linux_on_an_apple/d0y36h4?context=3","children":"Fr0gm4n"}],"\nfor suggestions simplifying the writing of ",["$","code",null,{"children":"iso"}],"\nimages to USB. ",["$","a",null,{"href":"#user-content-fnref-4","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-7","children":["\n",["$","p",null,{"children":["April 2, 2016: Thanks\n",["$","a",null,{"href":"https://www.reddit.com/r/archlinux/comments/493k4n/installing_encrypted_arch_linux_on_an_apple/d1mleow?context=3","children":"Perceptes"}],"\nfor helping to clarify the text explaining how to configure the bootloader. ",["$","a",null,{"href":"#user-content-fnref-7","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-9","children":["\n",["$","p",null,{"children":["December 2, 2016: Thanks to Joshua Brown for clarifications to writing the bootloader line. ",["$","a",null,{"href":"#user-content-fnref-9","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-8","children":["\n",["$","p",null,{"children":["July 28, 2016: Updated to support Macbookpro 11,3 devices with NVidia cards. This device uses NVIDIA GeForce GT 750M (Codename NVE7/GK107). ",["$","a",null,{"href":"#user-content-fnref-8","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-10","children":["\n",["$","p",null,{"children":["February 6, 2017: If anyone has a solution to the loss of Infinality bundle\ntypography, please drop me a line. ",["$","a",null,{"href":"#user-content-fnref-10","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-5","children":["\n",["$","p",null,{"children":["March 18, 2016: Changed references to ",["$","code",null,{"children":".Xinitrc"}]," to the\ncorrect filename, ",["$","code",null,{"children":".xinitrc"}],". ",["$","a",null,{"href":"#user-content-fnref-5","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-2","children":["\n",["$","p",null,{"children":["March 8, 2016: Previously omitted the ",["$","code",null,{"children":"-S"}]," option in\nyaourt, fixed. ",["$","a",null,{"href":"#user-content-fnref-2","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-6","children":["\n",["$","p",null,{"children":["March 24, 2016: Added two new sections documenting Laptop Mode Tools\nand ",["$","code",null,{"children":"acpid"}],". ",["$","a",null,{"href":"#user-content-fnref-6","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-3","children":["\n",["$","p",null,{"children":["March 8, 2016: Added a section covering the Apple Trackpad. ",["$","a",null,{"href":"#user-content-fnref-3","data-footnote-backref":true,"className":"data-footnote-backref","aria-label":"Back to content","children":"‚Ü©"}]]}],"\n"]}],"\n"]}],"\n"]}]]}],["$","footer",null,{"className":"license_copyright__EpMnZ","children":["This is licensed under a Creative Commons ","cc-by-nc-sa"," International License"]}]]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Installing (encrypted) Arch Linux on an Apple MacBook Pro"}],["$","meta","3",{"name":"description","content":"A howto guide for installing encrypted Arch Linux on an Apple MacBook Pro with battery optimization and the Awesome window manager."}],["$","link","4",{"rel":"author","href":"https://0xadada.pub"}],["$","meta","5",{"name":"author","content":"0xADADA"}],["$","meta","6",{"name":"keywords","content":"projects,open-source,linux"}],["$","link","7",{"rel":"alternate","type":"application/rss+xml","href":"https://0xadada.pub/rss.xml"}],["$","meta","8",{"property":"og:title","content":"Installing (encrypted) Arch Linux on an Apple MacBook Pro"}],["$","meta","9",{"property":"og:description","content":"A howto guide for installing encrypted Arch Linux on an Apple MacBook Pro with battery optimization and the Awesome window manager."}],["$","meta","10",{"property":"og:url","content":"https://0xadada.pub/2016/03/05/install-encrypted-arch-linux-on-apple-macbook-pro/"}],["$","meta","11",{"property":"og:site_name","content":"0xADADA"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:image","content":"https://0xadada.pub/static/images/meta/avatar.svg"}],["$","meta","14",{"property":"og:image:width","content":"660"}],["$","meta","15",{"property":"og:image:height","content":"660"}],["$","meta","16",{"property":"og:type","content":"article"}],["$","meta","17",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","18",{"name":"twitter:title","content":"Installing (encrypted) Arch Linux on an Apple MacBook Pro"}],["$","meta","19",{"name":"twitter:description","content":"A howto guide for installing encrypted Arch Linux on an Apple MacBook Pro with battery optimization and the Awesome window manager."}],["$","meta","20",{"name":"twitter:image","content":"https://0xadada.pub/static/images/meta/avatar.svg"}],["$","meta","21",{"name":"twitter:image:width","content":"660"}],["$","meta","22",{"name":"twitter:image:height","content":"660"}],["$","link","23",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"48x48"}],["$","link","24",{"rel":"apple-touch-icon","href":"/apple-icon.png?b764b3a1dbf00a82","type":"image/png","sizes":"180x180"}]]
1:null
