<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/eb609dc069960a71.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/01f63581d77a7b07.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-82e670c6d334b3de.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-cc48c28d170fddc2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-0a6331c18b0d37aa.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-715e3a652bc6b546.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-d7e0a94ebe194dac.js" async=""></script><script src="/_next/static/chunks/app/page-84b663e6d1625d16.js" async=""></script><script src="/_next/static/chunks/749-1aefd436964833c3.js" async=""></script><script src="/_next/static/chunks/app/layout-78a994bcd16a1c23.js" async=""></script><title>Animating SVG with CSS</title><meta name="description" content="How to use SVG and CSS to create dynamic imagery."/><link rel="author" href="https://0xadada.pub"/><meta name="author" content="0xADADA"/><meta name="keywords" content="projects,graphics,vector,animation,css"/><link rel="alternate" type="application/rss+xml" href="https://0xadada.pub/rss.xml"/><meta property="og:title" content="Animating SVG with CSS"/><meta property="og:description" content="How to use SVG and CSS to create dynamic imagery."/><meta property="og:url" content="https://0xadada.pub/2017/01/08/animating-avatar-svg/"/><meta property="og:site_name" content="0xADADA"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://0xadada.pub/static/images/meta/apple-touch-icon.png"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="800"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Animating SVG with CSS"/><meta name="twitter:description" content="How to use SVG and CSS to create dynamic imagery."/><meta name="twitter:image" content="https://0xadada.pub/static/images/meta/apple-touch-icon.png"/><meta name="twitter:image:width" content="800"/><meta name="twitter:image:height" content="800"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="apple-touch-icon" href="/apple-icon.png?b764b3a1dbf00a82" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><main class="layout_layout__dCqca"><article class="hentry h-entry"><header><h1 class="entry-title p-name">Animating SVG with CSS</h1><time class="display-date_published__A_L_d dt-published" dateTime="2017-01-08T00:00:00.000Z">Sunday January 8, 2017</time><span class="h-card page_byline__wbXsN"> by <span class="fn p-author p-name">0xADADA</span></span></header><div class="entry-content e-content"><p>I finally got around to converting my avatar from a raster graphic to a vector
format. I wanted to be able to animate the polygons using JavaScript and CSS.
Another great advantage of a vector format is how the format lends itself to
generate a PNG or JPG in any size.</p>
<h2 id="massaging-the-svg-file-format">Massaging the SVG File Format</h2>
<p>First things first, I took the source image and ran it through the
<a href="https://snorpey.github.io/triangulation/">delaunay triangulation - image triangulation experiment</a>
software, experimenting with various values for blur, accuracy and point count.
The output of this software was a <code>512Kb</code> SVG file.</p>
<p>Next I opened the file in <a href="https://inkscape.org/en/">Inkscape</a>, a SVG vector
graphics editor to remove the polygons in the background, cleanup some awkward
polys and make a few minor adjustments. Inkscape adds a bunch of metadata and
additional properties to the raw SVG that can be cleaned up.</p>
<p>Once I was happy with the results of my tweaking in Inkscape, I saved the SVG
and opened it in <a href="https://jakearchibald.github.io/svgomg/">SVGOMG</a> a web-based
SVG optimization GUI for the <a href="https://github.com/svg/svgo">SVGO</a> suite of tools.
This tool will output a much smaller SVG file that is ready for either editing
or delivery over HTTP. In this case, the file was reduced to <code>312Kb</code> a 40%
reduction in file size, primarily by transforming point-based <code>&lt;polygon&gt;</code>
elements to the more concise to <code>&lt;path&gt;</code> element.</p>
<h2 id="animation">Animation</h2>
<p>With the SVG file ready, I moved on to the action animation work.</p>
<p>The animation would be a series of CSS keyframes that would simply toggle the
opacity level to produce a flickering affect. The artwork begins with all
opacity set to <code>0</code> (transparent), and each keyframe incrementally toggles
opacity until the last frame finally sets it to <code>1</code>.</p>
<pre><code class="language-css">.p {
  /* each polygon &quot;path&quot; starts fully transparent */
  opacity: 0;
}

/* a set of keyframes that incrementally toggle opacity, this */
/* keyframes set is called &quot;slide-into-place&quot; */
@keyframes slide-into-place {
  0% {
    opacity: 1;
  }
  5% {
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  17% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  55% {
    opacity: 0;
  }
  60% {
    opacity: 1;
  }
  75% {
    opacity: 0.25;
  }
  85% {
    opacity: 0.85;
  }
  90% {
    opacity: 0;
  }
  95% {
    opacity: 0.25;
  }
  100% {
    opacity: 1;
  }
}
</code></pre>
<p>Every <code>&lt;path&gt;</code> in the SVG document is given a classname <code>p</code> (for path), I then
use javascript to get references to these paths, and simply add a new classname
<code>is-animated</code> to their <code>class</code> attribute. This classname will be used to attach
the keyframes to the SVG paths.</p>
<pre><code class="language-css">.p.is-animated {
  /* sets the keyframes to use for animation */
  animation-name: slide-into-place;
  /* pause before animation starts */
  animation-delay: 1s;
  animation-timing-function: ease;
  animation-direction: normal;
  /* Run the animation only once */
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
}
</code></pre>
<p>To attach the keyframe animation to the SVG <code>&lt;path&gt;</code>, the only think necessary
is to add the <code>is-animated</code> classname to the element. We do this on <code>Line-A</code>.
This is done inside a loop that iterates over all the <code>&lt;path&gt;</code> elements.</p>
<p>If I just add the <code>is-animated</code> class to the element, all polygons will flicker
at the same time, looking like the entire image is flickering- which isn‚Äôt what
I want. To address this, I need to randomize the start-time of when each polygon
begins flickering. This makes each polygon flicker on its own timeline. I get a
random number on <code>Line-B</code> and use that as a delay to begin the flickering.</p>
<p><code>path.style.animationDelay</code> (on <code>Line-C</code>) is used to wait for a randomized
timeout (<code>Line-B</code>) period before animation starts.</p>
<pre><code class="language-javascript">function init() {
  var paths = document.querySelectorAll(&quot;path&quot;),
    i = 0,
    randTimeout = null;
  path = null;
  for (i = 0; i &lt; paths.length; i++) {
    let path = paths[i];
    randTimeout = Math.floor(Math.random() * (1500 - 1) + 1); // Line-B
    path.style.animationDelay = randTimeout + &quot;ms&quot;; // Line-C
    path.classList.add(&quot;is-animated&quot;); // Line-A
  }
}
</code></pre>
<p>The above <code>init()</code> function is called once the SVG document has finished
loading.</p>
<pre><code class="language-html">&lt;svg
  xmlns=&quot;http://www.w3.org/2000/svg&quot;
  viewbox=&quot;0 0 660 660&quot;
  onload=&quot;init()&quot;
&gt;&lt;/svg&gt;
</code></pre>
<h2 id="result">Result</h2>
<p><object type="image/svg+xml" data="/static/images/meta/avatar-animated.svg" height="660" width="660"> </object> <em>(Reload the page to view the animation
again)</em></p></div><footer class="license_copyright__EpMnZ">This is licensed under a Creative Commons <!-- -->cc-by-nc-sa<!-- --> International License</footer></article></main><footer class="footer_footer__woFMY layout_layout__dCqca"><nav><p>¬© 2003-<!-- -->2024<!-- --> 0xADADA (unless otherwise noted.)<br/><span class="h-card"><span class="p-note" hidden="">0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí</span><a class="u-url u-uid" title="0xADADA" href="https://0xadada.pub/">0xADADA</a> <a class="c-Meta u-email" rel="me" title="0xADADA" href="mailto:0xadada.pub@protonmail.com">Email</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Warpcast" href="https://warpcast.com/0xadada">Farcaster</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Mastodon" href="https://mastodon.cloud/@0xADADA">Mastodon</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Bluesky" href="https://bsky.app/profile/0xadada.bsky.social">Bluesky</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Twitter" href="https://twitter.com/0xadada"><del>Twitter</del></a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on GitHub" href="https://github.com/0xadada">GitHub</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Goodreads" href="https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted">Goodreads</a> <a href="/colophon/">Colophon</a> <a href="/rss.xml">RSS</a> <img alt="0xADADA icon" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="u-photo" style="color:transparent;margin-bottom:-0.125rem" src="/static/images/meta/avatar.svg"/></span></p></nav><form action="https://buttondown.email/api/emails/embed-subscribe/0xadada" method="post" target="popupwindow"><label for="email">Sign up to get emailed when I write new things:<!-- --> </label><input type="email" id="email" name="email"/><input type="submit" value="Subscribe"/></form></footer><script src="/_next/static/chunks/webpack-82e670c6d334b3de.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/eb609dc069960a71.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/01f63581d77a7b07.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[5250,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"931\",\"static/chunks/app/page-84b663e6d1625d16.js\"],\"\"]\nb:I[1749,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"749\",\"static/chunks/749-1aefd436964833c3.js\",\"185\",\"static/chunks/app/layout-78a994bcd16a1c23.js\"],\"Image\"]\nd:I[8955,[],\"\"]\n8:[\"slug\",\"2017/01/08/animating-avatar-svg\",\"c\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/eb609dc069960a71.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"veEPbST4qFXiRD1w43xYU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/2017/01/08/animating-avatar-svg/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"2017/01/08/animating-avatar-svg\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2017\\\",\\\"01\\\",\\\"08\\\",\\\"animating-avatar-svg\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"2017/01/08/animating-avatar-svg\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/01f63581d77a7b07.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en-US\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"main\",null,{\"className\":\"layout_layout__dCqca\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"footer_footer__woFMY layout_layout__dCqca\",\"children\":[[\"$\",\"nav\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"¬© 2003-\",\"2024\",\" 0xADADA (unless otherwise noted.)\",[\"$\",\"br\",null,{}],[\"$\",\"span\",null,{\"className\":\"h-card\",\"children\":[[\"$\",\"span\",null,{\"className\":\"p-note\",\"hidden\":true,\"children\":\"0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí\"}],[\"$\",\"$La\",null,{\"className\":\"u-url u-uid\",\"href\":\"https://0xadada.pub/\",\"title\":\"0xADADA\",\"children\":\"0xADADA\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"mailto:0xadada.pub@protonmail.com\",\"className\":\"c-Meta u-email\",\"rel\":\"me\",\"title\":\"0xADADA\",\"children\":\"Email\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://warpcast.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Warpcast\",\"children\":\"Farcaster\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://mastodon.cloud/@0xADADA\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Mastodon\",\"children\":\"Mastodon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://bsky.app/profile/0xadada.bsky.social\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Bluesky\",\"children\":\"Bluesky\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Twitter\",\"children\":[\"$\",\"del\",null,{\"children\":\"Twitter\"}]}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on GitHub\",\"children\":\"GitHub\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Goodreads\",\"children\":\"Goodreads\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/colophon/\",\"children\":\"Colophon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/rss.xml\",\"children\":\"RSS\"}],\" \",[\"$\",\"$Lb\",null,{\"className\":\"u-photo\",\"src\":\"/static/images/meta/avatar.svg\",\"alt\":\"0xADADA icon\",\"width\":\"20\",\"height\":\"20\",\"style\":{\"marginBottom\":\"-0.125rem\"}}]]}]]}]}],[\"$\",\"form\",null,{\"action\":\"https://buttondown.email/api/emails/embed-subscribe/0xadada\",\"method\":\"post\",\"target\":\"popupwindow\",\"children\":[[\"$\",\"label\",null,{\"htmlFor\":\"email\",\"children\":[\"Sign up to get emailed when I write new things:\",\" \"]}],[\"$\",\"input\",null,{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\"}],[\"$\",\"input\",null,{\"type\":\"submit\",\"value\":\"Subscribe\"}]]}]]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"hentry h-entry\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"entry-title p-name\",\"children\":\"Animating SVG with CSS\"}],[\"$\",\"time\",null,{\"className\":\"display-date_published__A_L_d dt-published\",\"dateTime\":\"2017-01-08T00:00:00.000Z\",\"children\":\"Sunday January 8, 2017\"}],[\"$\",\"span\",null,{\"className\":\"h-card page_byline__wbXsN\",\"children\":[\" by \",[\"$\",\"span\",null,{\"className\":\"fn p-author p-name\",\"children\":\"0xADADA\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"entry-content e-content\",\"children\":[[\"$\",\"p\",null,{\"children\":\"I finally got around to converting my avatar from a raster graphic to a vector\\nformat. I wanted to be able to animate the polygons using JavaScript and CSS.\\nAnother great advantage of a vector format is how the format lends itself to\\ngenerate a PNG or JPG in any size.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"massaging-the-svg-file-format\",\"children\":\"Massaging the SVG File Format\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"First things first, I took the source image and ran it through the\\n\",[\"$\",\"a\",null,{\"href\":\"https://snorpey.github.io/triangulation/\",\"children\":\"delaunay triangulation - image triangulation experiment\"}],\"\\nsoftware, experimenting with various values for blur, accuracy and point count.\\nThe output of this software was a \",[\"$\",\"code\",null,{\"children\":\"512Kb\"}],\" SVG file.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next I opened the file in \",[\"$\",\"a\",null,{\"href\":\"https://inkscape.org/en/\",\"children\":\"Inkscape\"}],\", a SVG vector\\ngraphics editor to remove the polygons in the background, cleanup some awkward\\npolys and make a few minor adjustments. Inkscape adds a bunch of metadata and\\nadditional properties to the raw SVG that can be cleaned up.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Once I was happy with the results of my tweaking in Inkscape, I saved the SVG\\nand opened it in \",[\"$\",\"a\",null,{\"href\":\"https://jakearchibald.github.io/svgomg/\",\"children\":\"SVGOMG\"}],\" a web-based\\nSVG optimization GUI for the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/svg/svgo\",\"children\":\"SVGO\"}],\" suite of tools.\\nThis tool will output a much smaller SVG file that is ready for either editing\\nor delivery over HTTP. In this case, the file was reduced to \",[\"$\",\"code\",null,{\"children\":\"312Kb\"}],\" a 40%\\nreduction in file size, primarily by transforming point-based \",[\"$\",\"code\",null,{\"children\":\"\u003cpolygon\u003e\"}],\"\\nelements to the more concise to \",[\"$\",\"code\",null,{\"children\":\"\u003cpath\u003e\"}],\" element.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"animation\",\"children\":\"Animation\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With the SVG file ready, I moved on to the action animation work.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The animation would be a series of CSS keyframes that would simply toggle the\\nopacity level to produce a flickering affect. The artwork begins with all\\nopacity set to \",[\"$\",\"code\",null,{\"children\":\"0\"}],\" (transparent), and each keyframe incrementally toggles\\nopacity until the last frame finally sets it to \",[\"$\",\"code\",null,{\"children\":\"1\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-css\",\"children\":\".p {\\n  /* each polygon \\\"path\\\" starts fully transparent */\\n  opacity: 0;\\n}\\n\\n/* a set of keyframes that incrementally toggle opacity, this */\\n/* keyframes set is called \\\"slide-into-place\\\" */\\n@keyframes slide-into-place {\\n  0% {\\n    opacity: 1;\\n  }\\n  5% {\\n    opacity: 0;\\n  }\\n  15% {\\n    opacity: 1;\\n  }\\n  17% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n  55% {\\n    opacity: 0;\\n  }\\n  60% {\\n    opacity: 1;\\n  }\\n  75% {\\n    opacity: 0.25;\\n  }\\n  85% {\\n    opacity: 0.85;\\n  }\\n  90% {\\n    opacity: 0;\\n  }\\n  95% {\\n    opacity: 0.25;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Every \",[\"$\",\"code\",null,{\"children\":\"\u003cpath\u003e\"}],\" in the SVG document is given a classname \",[\"$\",\"code\",null,{\"children\":\"p\"}],\" (for path), I then\\nuse javascript to get references to these paths, and simply add a new classname\\n\",[\"$\",\"code\",null,{\"children\":\"is-animated\"}],\" to their \",[\"$\",\"code\",null,{\"children\":\"class\"}],\" attribute. This classname will be used to attach\\nthe keyframes to the SVG paths.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-css\",\"children\":\".p.is-animated {\\n  /* sets the keyframes to use for animation */\\n  animation-name: slide-into-place;\\n  /* pause before animation starts */\\n  animation-delay: 1s;\\n  animation-timing-function: ease;\\n  animation-direction: normal;\\n  /* Run the animation only once */\\n  animation-iteration-count: 1;\\n  animation-fill-mode: forwards;\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To attach the keyframe animation to the SVG \",[\"$\",\"code\",null,{\"children\":\"\u003cpath\u003e\"}],\", the only think necessary\\nis to add the \",[\"$\",\"code\",null,{\"children\":\"is-animated\"}],\" classname to the element. We do this on \",[\"$\",\"code\",null,{\"children\":\"Line-A\"}],\".\\nThis is done inside a loop that iterates over all the \",[\"$\",\"code\",null,{\"children\":\"\u003cpath\u003e\"}],\" elements.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If I just add the \",[\"$\",\"code\",null,{\"children\":\"is-animated\"}],\" class to the element, all polygons will flicker\\nat the same time, looking like the entire image is flickering- which isn‚Äôt what\\nI want. To address this, I need to randomize the start-time of when each polygon\\nbegins flickering. This makes each polygon flicker on its own timeline. I get a\\nrandom number on \",[\"$\",\"code\",null,{\"children\":\"Line-B\"}],\" and use that as a delay to begin the flickering.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"path.style.animationDelay\"}],\" (on \",[\"$\",\"code\",null,{\"children\":\"Line-C\"}],\") is used to wait for a randomized\\ntimeout (\",[\"$\",\"code\",null,{\"children\":\"Line-B\"}],\") period before animation starts.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"function init() {\\n  var paths = document.querySelectorAll(\\\"path\\\"),\\n    i = 0,\\n    randTimeout = null;\\n  path = null;\\n  for (i = 0; i \u003c paths.length; i++) {\\n    let path = paths[i];\\n    randTimeout = Math.floor(Math.random() * (1500 - 1) + 1); // Line-B\\n    path.style.animationDelay = randTimeout + \\\"ms\\\"; // Line-C\\n    path.classList.add(\\\"is-animated\\\"); // Line-A\\n  }\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The above \",[\"$\",\"code\",null,{\"children\":\"init()\"}],\" function is called once the SVG document has finished\\nloading.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003csvg\\n  xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n  viewbox=\\\"0 0 660 660\\\"\\n  onload=\\\"init()\\\"\\n\u003e\u003c/svg\u003e\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"result\",\"children\":\"Result\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"object\",null,{\"type\":\"image/svg+xml\",\"data\":\"/static/images/meta/avatar-animated.svg\",\"height\":\"660\",\"width\":\"660\",\"children\":\" \"}],\" \",[\"$\",\"em\",null,{\"children\":\"(Reload the page to view the animation\\nagain)\"}]]}]]}],[\"$\",\"footer\",null,{\"className\":\"license_copyright__EpMnZ\",\"children\":[\"This is licensed under a Creative Commons \",\"cc-by-nc-sa\",\" International License\"]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Animating SVG with CSS\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"How to use SVG and CSS to create dynamic imagery.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://0xadada.pub\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"projects,graphics,vector,animation,css\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://0xadada.pub/rss.xml\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:title\",\"content\":\"Animating SVG with CSS\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:description\",\"content\":\"How to use SVG and CSS to create dynamic imagery.\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:url\",\"content\":\"https://0xadada.pub/2017/01/08/animating-avatar-svg/\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:site_name\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://0xadada.pub/static/images/meta/apple-touch-icon.png\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"800\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"Animating SVG with CSS\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"How to use SVG and CSS to create dynamic imagery.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://0xadada.pub/static/images/meta/apple-touch-icon.png\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:height\",\"content\":\"800\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"24\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?b764b3a1dbf00a82\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>