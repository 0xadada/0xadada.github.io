{"pageProps":{"post":{"slugs":{"year":"2013","month":"03","day":"01","slug":"best-practices-writing-css"},"title":"Best Practices for Writing CSS","displayTitle":"Best Practices for Writing CSS","metaDescription":"Conventions to help writing performant, maintainable stylesheets","date":1362168060000,"author":"0xADADA","content":"<h2>General High-Order Principles</h2>\n<ul>\n<li>Simplicity - The most bug-free line of code is the one you don't have to\nwrite!</li>\n<li>Reusable - Create code that is portable to other sections of the site and are\nnestable</li>\n<li>Extensible - Create code that lends itself to be easily extended and with low\nselector specificity to promote extensibility.</li>\n<li>One-to-many - Create classes that can be applied to many contexts</li>\n<li>Fast - Know your selector performance basics, reduce HTTP requests</li>\n<li>Semantic - Create CSS that speaks to the task or meaning that is being\naccomplished. Good CSS class names describe our HTML elements in very semantic\nand specific ways</li>\n<li>Standards Oriented - Create portable, standards-forward code (ie Don't use\nhacks)</li>\n<li>Future Proof - Write code as if you'll never be able to edit it again</li>\n<li>Accessible - Just as people have different capabilities with respect to\nvision, hearing, language or cultural understanding, devices have varying\nlevels of memory, CPU, screen size or bandwidth</li>\n<li>Progressive - Create a core experience for the least capable devices (legacy\ndevices, low bandwidth, low power, small memory, small screen) and\nprogressively enhance the experience as you detect richer capabilities</li>\n<li>Fast to develop - Write code that is fast to create new features, extend\nexisting features, and maintain old features</li>\n<li>Team scalable - The code and conventions should be readily apparent to a\nnovice developer who joins the team, and easy to adopt so he/she can quickly\ncontribute</li>\n</ul>\n<h2>Strive To</h2>\n<ul>\n<li>Separate Structure from Skin</li>\n<li>Separate Skin from Behavior</li>\n<li>Separate Container from Content</li>\n<li>Create a Component Library - Use Components like legos, combining them to\ncreate rich UI widgets. Create a reference page to see all components in a\nsingle centralized place</li>\n<li>Separate components into generalized sub-groups: (Ordered from least to most\nspecificity)\n<ul>\n<li>All - The manifest that imports all other stylesheets</li>\n<li>Settings - Global variables, public mixins, config switches, brand colors,\netc</li>\n<li>Base - Base styles that normalizes globals, everything inherits from these\ndefaults</li>\n<li>Objects - \"o-\" OOCSS design patterns, reusable UI primitives</li>\n<li>Components - \"c-\" Fully designed pieces of UI, Still only utilizes class\nselectors. More expliciltly named (e.g. products-list)</li>\n<li>Trumps: Overrides, only affect on piece of the DOM at a time. Usually carry\n!imporant.</li>\n</ul>\n</li>\n<li>Your markup should be distilled from combining your component library pieces\ntogether</li>\n<li>Minimize the amount of bespoke or one-off css-possible</li>\n<li>Extend Components by applying abstracted classes</li>\n<li>\"Flow like water\" - Be flexible, allow site to respond to content to dictate\nheight, and screen size to dictate width. Layout should respond proportionally</li>\n<li>Use themes to separate ornamentation from core design</li>\n<li>Increase portability with context-free CSS</li>\n</ul>\n<h2>Separate Structure from Skin</h2>\n<p>Focus on keeping your markup semantic. Don't write markup to achieve a\npresentation-level effect, leave that to the CSS.</p>\n<h2>Separate Skin from Behavior</h2>\n<p>Use CSS to skin your markup, but further separate your CSS from behavior. If we\nuse an anchor tag that acts as a form-POST event, write two classes; one to\ndescribe the look of the button and another as its hint to javascript that'll be\nused for attaching functionality.</p>\n<p><strong>Markup</strong></p>\n<pre><code>&#x3C;a href=\"/action\" title=\"Submit\" class=\"c-button js-action-submit\">Submit&#x3C;/a>\n</code></pre>\n<p><strong>CSS</strong></p>\n<pre><code class=\"language-css\">.c-button {\n  color: green;\n  border: 1px solid red;\n}\n</code></pre>\n<p><strong>JavaScript</strong></p>\n<pre><code class=\"language-js\">$( '.js-action-submit' ).click( function( e ) {\n  e.preventDefault();\n  // do form submit\n}\n</code></pre>\n<h2>Use themes to separate ornamentation from core design</h2>\n<p>Gradually tastes change like the seasons. The design team will continue to\nevolve the graphic design as well as to create new design ornaments. Rather than\ncontinually editing a large group of styles to integrate these changes, strive\nto limit ornamentation to a set of core \"theme\" classes that are applied to\nelements. Avoid editing a fragile selector that includes layout and positioning\nproperties that could potentially break the site and instead limit your changes\nto a specific selector that focuses on the ornamental effects of the element. An\nexample helps:</p>\n<p><strong>Markup</strong></p>\n<pre><code class=\"language-html\">&#x3C;!--Okay-->\n&#x3C;a href=\"/contact\" class=\"c-fun-button \" title=\"contact us\">Contact Us&#x3C;/a>\n&#x3C;!--Better-->\n&#x3C;a\n  href=\"/contact\"\n  class=\"c-contact-button t-contact-button---fancy\"\n  title=\"contact us\"\n  >Contact Us&#x3C;/a\n>\n</code></pre>\n<p><strong>CSS</strong></p>\n<pre><code class=\"language-css\">/* Okay */\n.c-fun-button {\n  display: inline-block;\n  padding: 1em 0.5em;\n  border: 1px dashed red;\n}\n\n/* Better */\n.c-contact-button {\n  display: inline-block;\n  padding: 1em 0.5em;\n}\n.t-contact-button---fancy {\n  border: 1px dashed red;\n}\n</code></pre>\n<h2>Increase portability with context-free CSS</h2>\n<p>In striving to make components and elements that are easily moved, extended and\nmaintained; reduce the context that your css requires. For this to work, your\ncomponent must have:</p>\n<ul>\n<li>A unique name (css class) that will be part of the css selector</li>\n<li>No HTML element decendant selectors ( .menu li ) as these are inherently\ncontext-dependent</li>\n</ul>\n<p>Instead, use the unique name for the parent elements css selector, and separate\nthe child elements css class names with two – hyphens, for example:</p>\n<p><strong>Markup</strong></p>\n<pre><code class=\"language-html\">&#x3C;ul class=\" c-navmenu \">\n  &#x3C;li>\n    &#x3C;a class=\" c-nav-menu–-item \">an item&#x3C;/a>\n  &#x3C;/li>\n  &#x3C;li>\n    &#x3C;a class=\" c-nav-menu–-item \">an item&#x3C;/a>\n  &#x3C;/li>\n&#x3C;/ul>\n</code></pre>\n<p><strong>CSS</strong></p>\n<pre><code class=\"language-css\">.c-nav-menu {\n  property-name: property-value;\n  property-name: property-value;\n}\n.c-nav-menu–-item {\n  display: inline-block;\n  font-weight: bold;\n  color: red;\n}\n</code></pre>\n<p>In this example, the menu items can be moved independently to other parts of the\nsite. And while this example might not occur in the real-world, it would work-\nfunctionally-speaking.</p>\n<p>If you need to extend the item to introduce a slightly different style, you\nduplicate the class name, but add a modifier class separated by three — hyphens.</p>\n<p><strong>CSS</strong></p>\n<pre><code class=\"language-css\">.c-navmenu-item---light {\n  font-weight: normal;\n  color: yellow;\n}\n</code></pre>\n<p><strong>Markup</strong></p>\n<pre><code class=\"language-html\">&#x3C;li>\n  &#x3C;a class=\" c-navmenu–item c-navmenu-item---light \">an item&#x3C;/a>\n&#x3C;/li>\n</code></pre>\n<p>Extending our already-existing style by adding classes additionally gives us a\nreusable class that we can then use anywhere we use the original class.</p>\n<p>Avoid:</p>\n<ul>\n<li>Tag Specific selectors - Poor portability &#x26; reuse, unintended elements inherit\nunwanted css properties</li>\n<li>#ID selectors - Poor selector performance &#x26; reuse, difficult to override due\nto high selector specificity</li>\n<li>Alpha transparencies on top of irregular backgrounds - Poor rendering\nperformance</li>\n<li>Fixed \"height:\" Content is dynamic, changing, and heights will change. Try to\navoid height, there are many ways to avoid it</li>\n<li>Fixed \"width:\" Layouts should indicate proportionality and fit accordingly\ninside their parent containers. Use box-sizing</li>\n<li>Relying on a defined HTML structure to drape your styles, markup changes over\ntime, and requirements change, components move</li>\n<li>Using javascript to modify css properties - don't pollute your javascript with\ncss</li>\n</ul>\n<h2>Techniques</h2>\n<ul>\n<li>Write your CSS selectors to be as concise as possible</li>\n<li>Write your CSS selectors to be as performant as possible, efficient as\npossible and even more efficient</li>\n<li>Don't overqualify your CSS selectors</li>\n<li>Use the lessons learned in <a href=\"http://oocss.org/\">\"Object-Oriented\" CSS</a></li>\n</ul>\n<p>Every selector you write is additional complexity that will need to be\nmaintained. Can you generalize or abstract that selector so other components can\nuse it?</p>\n<p>Make use of the child selector to limit how deep your css goes. <code>.nav-list > li</code>\ncan do a lot to prevent the cascade from going too deep.</p>\n<p>Think of the class attribute in HTML as a mounting-point for CSS classes,\nfixtures upon which styling is attached to markup. This is opposed to using the\nmarkup as a skeleton on which you drape your style.</p>\n<p>When asked to change existing code, rather than simply adding complexity with\nnew classes or additional selectors, can you refactor or abstract existing\nselectors or classes to produce the desired behavior? Look at change requests as\nan opportunity to refactor.</p>\n<p>Code reuse is your friend. The first \"C\" in CSS stands for Cascade. Use the\ncascade to maximum advantage. Inheritance is extremely powerful. When adding a\ncss property, ask yourself if you can add it higher in the cascade, and inherit\nit from a higher abstraction.</p>\n<p>Write obvious code. CSS is fragile, write code as if a novice coder would be\nmaintaining your code in the future.</p>\n<p>\"Extent your CSS objects with class\" - not with selector specificity. Increasing\nselector specificity makes overrides more difficult and fragile to maintain.\nClass names can always be more semantic than the generic tag names at your\ndisposal.</p>\n<p>Browsers actually have a very similar set of core default-styles. Rather than\nobliterating the core-styles with a hard-reset css, think about the value of css\nnormalization. Using a normalized approach, the focus is to normalize the\ndifferences across browsers rather than eliminating all styles together. This\nmeans you spend less time re-creating the core styles that are very useful in\npractice.</p>\n<p>Create a UI Pattern and Component Library -\n<a href=\"http://mailchimp.com/__bananabin/components.html\">MailChimp has a good one</a>.</p>\n<p>Elements that are effected by javascript behaviors should have css modified by\nadding or removing classes. Keep your css in the css-file, don't pollute the\njavascript with css properties when you could abstract those properties to the\ncss file. Elements that have multiple states should have corresponding class\nnames that describe those states when added to the element. The default state of\nthe element is when it has no additional descriptors in the class attribute -\nthe default state. For an anchor tag button, some additional states class names\ncould be:</p>\n<pre><code>is-active\nis-disabled\nis-hover\n</code></pre>\n<h2>Adding Behavior</h2>\n<p>Class names are often used to add a behavioral hint that our javascript will use\nto select an element and add some sort of behavior, ie: a tab control made up of\nan unordered list with anchor tags inside list elements. Clicking the anchor tag\nresults in another container element showing or hiding. Separate the behavioral\nhint by using a class name that indicates its action.</p>\n<pre><code>js-action-apply\njs-action-navigate\njs-action-cancel\njs-action-next\njs-action-play\njs-action-toggle\njs-action-clickable\njs-action-draggable\n</code></pre>\n<p>Avoid using these class names to apply css styles.</p>\n<h2>Normalize vs Reset CSS</h2>\n<p>We have moved away from Eric Meyer's <code>reset.css</code> to\n<a href=\"https://github.com/necolas/normalize.css\"><code>normalize.css</code></a> for the following\nreasons:</p>\n<ol>\n<li>Normalize.css preserves useful defaults rather than \"unstyling\" everything.\nFor example, elements like sup or sub \"just work\" after including\nnormalize.css (and are actually made more robust) whereas they are visually\nindistinguishable from normal text after including reset.css</li>\n<li>Normalize.css corrects some common bugs that are out of scope for reset.css.\nIt has a wider scope than reset.css, and also provides bug fixes for common\nproblems</li>\n<li>Normalize.css doesn't clutter your dev tools. A common irritation when using\nreset.css is the large inheritance chain that is displayed in browser CSS\ndebugging tools. This is not such an issue with normalize.css because of the\ntargeted stylings</li>\n<li>Normalize.css is more modular. The project is broken down into relatively\nindependent sections, making it easy for you to potentially remove sections\n(like the form normalizations) if you know they will never be needed by your\nwebsite</li>\n<li>Normalize.css has better documentation. The normalize.css code is documented\ninline</li>\n</ol>\n<p>For more reasons and rationale, check out the details About\n<a href=\"https://github.com/necolas/normalize.css/\">normalize.css</a>.</p>\n<p>To get an idea what #3 means \"Normalize.css doesn't clutter your dev tools\", as\nwell as pollute the CSS cascade with unnecessary rulessets, checkout the\nfollowing example. In this image we compare the CSS rule chain for the \"About\nUs\" title on the left with reset.css with 18 rules. On the right is\nnormalize.css with 11 rules.</p>\n<p>As you can see, the ruleset on the right is far simpler, and unnecessary\ncomplexity is always bad.</p>\n<p>Further Reading</p>\n<ul>\n<li><a href=\"http://bem.info\">bem.info</a> - Block-element-modifier approach to css class\nnaming conventions.</li>\n<li><a href=\"http://oocss.org/\">OO-CSS</a> - \"Object Oriented\" CSS</li>\n<li><a href=\"http://csswizardry.com/2011/09/writing-efficient-css-selectors/\">Overqualifying Your Selectors</a>-\nWriting efficient CSS selectors</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Writing_efficient_CSS\">Mozilla - Efficient CSS</a>-\nMozilla article on fast CSS performance</li>\n<li><a href=\"https://css-tricks.com/efficiently-rendering-css/\">CSS Tricks</a> - Efficient\nCSS Rendering</li>\n</ul>\n","slug":"2013-03-01-best-practices-writing-css","license":"cc-by-sa"}},"__N_SSG":true}