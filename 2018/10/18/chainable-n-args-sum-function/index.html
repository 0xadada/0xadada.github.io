<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/26856a373ee2679e.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/01f63581d77a7b07.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-5ed700fd97535a56.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-cc48c28d170fddc2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-0a6331c18b0d37aa.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-715e3a652bc6b546.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-d7e0a94ebe194dac.js" async=""></script><script src="/_next/static/chunks/app/page-84b663e6d1625d16.js" async=""></script><script src="/_next/static/chunks/749-1aefd436964833c3.js" async=""></script><script src="/_next/static/chunks/app/layout-5fcb3f4f951ab0d9.js" async=""></script><title>An Interview Question: Write a chainable n-argument sum function</title><meta name="description" content="Writing a javascript function to sum multiple inputs with chainable invocation."/><link rel="author" href="https://0xadada.pub"/><meta name="author" content="0xADADA"/><meta name="keywords" content="projects,open-source,javascript"/><link rel="alternate" type="application/rss+xml" href="https://0xadada.pub/rss.xml"/><meta property="og:title" content="An Interview Question: Write a chainable n-argument sum function"/><meta property="og:description" content="Writing a javascript function to sum multiple inputs with chainable invocation."/><meta property="og:url" content="https://0xadada.pub/2018/10/18/chainable-n-args-sum-function/"/><meta property="og:site_name" content="0xADADA"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta property="og:image:width" content="660"/><meta property="og:image:height" content="660"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="An Interview Question: Write a chainable n-argument sum function"/><meta name="twitter:description" content="Writing a javascript function to sum multiple inputs with chainable invocation."/><meta name="twitter:image" content="https://0xadada.pub/static/images/meta/avatar.svg"/><meta name="twitter:image:width" content="660"/><meta name="twitter:image:height" content="660"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="apple-touch-icon" href="/apple-icon.png?b764b3a1dbf00a82" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><main class="layout_layout__dCqca"><article class="hentry h-entry"><header><h1 class="entry-title p-name">An Interview Question: Write a chainable n-argument sum function</h1><time class="display-date_published__A_L_d dt-published" dateTime="2018-10-18T00:00:00.000Z">Thursday October 18, 2018</time><span class="h-card page_byline__wbXsN"> by <span class="fn p-author p-name">0xADADA</span></span></header><div class="entry-content e-content"><p>I came across an interesting interview question, along the lines of</p>
<blockquote>
<p>‚ÄùHow would you make this work?‚Äù</p>
<figcaption><a href="https://hojberg.xyz/">Simon H√∏jberg</a></figcaption>
</blockquote>
<pre><code class="language-javascript">add(2, 5); // multiple arguments style
&gt; 7
add(2)(5); // currying, a chained invocation style
&gt; 7
add(1,2)(3,4) // both
&gt; 10
</code></pre>
<p>I thought this was a very interesting question, so took some time to
implement a multi-argument / curried function.</p>
<p>Heres what I got:</p>
<p>A solution to the multiple argument style is straightforward, theres just the bit to
change <code>arguments</code> into an Array, and to handle the case when nothing is
passed in.</p>
<pre><code class="language-javascript">let sum = function () {
  let args = arguments.length ? Array.from(arguments) : [0]; // convert arguments to array for .reduce
  return args.reduce((acc, i) =&gt; (acc += i));
};
</code></pre>
<p>Now, to get chained invocation style to work, I used <code>bind</code> to generate a new function
that would be returned to the caller, allowing for chained invocation. The
tricky bit is to set the <code>valueOf</code> function to return the sum, so when checked
for a value, the function returns a number.</p>
<p>Thus:</p>
<pre><code class="language-javascript">let sum = function () {
  let args = arguments.length ? Array.from(arguments) : [0]; // see (a)
  let sum = args.reduce((acc, i) =&gt; (acc += i));
  let f = sum.bind(null, sum); // see (b)
  f.valueOf = () =&gt; sum; // see (c)
  return f;
};
/* (a)
 * [0, ...arguments] will convert arguments to an Array
 * to allow the `reduce`. It will also create an initial item
 * `0` to handle the case no arguments are passed in. Thus
 * making `sumChainable()` possible.
 *
 * (b)
 * Generate a nested arrow function that will be returned, and pass
 * the sum to it. This allows the return value of the function
 * to be invoked in a chain, each changed invocation passing
 * the sum of its caller. Thus `sumChainable()()` is possible.
 *
 * (c)
 * Setting the `valueOf()` function on the returned function to
 * return the sum allows the comparison operator `==` to check
 * the value of the function against a number. Thus making operations
 * like `sumChainable() == 0` and `sumChainable(1, 1) + 2 == 4` possible.
 */
</code></pre>
<p>We can clean up this code by using the <code>...</code> rest parameters.</p>
<pre><code class="language-javascript">function sum(...args) {
  const value = args.reduce((acc, a) =&gt; acc + a, 0);
  const f = sum.bind(null, value);
  f.valueOf = () =&gt; value;
  return f;
}
</code></pre>
<p>added a function to run test conditions, and defined some tests:</p>
<pre><code class="language-javascript">function test(conditions) {
  conditions.forEach(([msg, cFn], i) =&gt; {
    const result = cFn();
    console.log(`${i} ${result ? &quot;‚úÖ&quot; : &quot;üö´&quot;} ${msg}`);
    console.assert(cFn(), msg);
  });
  console.log(`${conditions.length} tests completed`);
}

let conditions = [
  [&quot;sum() returns 0&quot;, () =&gt; sum() == 0],
  [&quot;sum()() returns 0&quot;, () =&gt; sum()() == 0],
  [&#x27;typeof sum() returns &quot;function&quot;&#x27;, () =&gt; typeof sum() == &quot;function&quot;],
  [
    &#x27;typeof sum().valueOf() returns &quot;number&quot;&#x27;,
    () =&gt; typeof sum().valueOf() == &quot;number&quot;,
  ],
  [&quot;sum(0) returns 0&quot;, () =&gt; sum(0) == 0],
  [&quot;sum(0)(0) returns 0&quot;, () =&gt; sum(0)(0) == 0],
  [&quot;sum()(1) returns 1&quot;, () =&gt; sum()(1) == 1],
  [&quot;sum(1,2) returns 3&quot;, () =&gt; sum(1, 2) == 3],
  [&quot;sum(1,2,3) returns 6&quot;, () =&gt; sum(1, 2, 3) == 6],
  [&quot;sum(1,2,3)() returns 6&quot;, () =&gt; sum(1, 2, 3)() == 6],
  [&quot;sum(1,2,3)(1) returns 7&quot;, () =&gt; sum(1, 2, 3)(1) == 7],
  [&quot;sum(1,2,3)(1) returns 7&quot;, () =&gt; sum(1, 2, 3)(1) == 7],
  [&quot;sum(1,2,3)(1,2) returns 9&quot;, () =&gt; sum(1, 2, 3)(1, 2) == 9],
];

test(conditions); // run the tests
</code></pre>
<p>viola!</p>
<p>Future improvements would be to get strict equality <code>===</code> operator to recognize the result
as type <code>number</code> rather than type <code>function</code>, but Javascript doesn‚Äôt have a way to override operations.
We can also change the API slightly by
invoking <code>.valueOf()</code> at the end of the invocation chain to yield a <code>number</code> primative value.</p>
<pre><code class="language-javascript">// test for strict equality using .valueOf()
console.log(
  `sum(1,2,3)(4,5)(6).valueOf()`,
  sum(1, 2, 3)(4, 5)(6).valueOf() === 21 ? &quot;passed&quot; : &quot;failed&quot;,
);
</code></pre>
<p>future would would be to get working:</p>
<pre><code class="language-javascript">console.log(
  `typeof sumChainable(1) === &#x27;number&#x27;`,
  typeof sumChainable(1) === `number` ? &quot;passed&quot; : &quot;failed&quot;,
);
</code></pre></div><footer class="license_copyright__EpMnZ">This is licensed under a Creative Commons <!-- -->cc-by-nc-sa<!-- --> International License</footer></article></main><footer class="footer_footer__woFMY layout_layout__dCqca"><nav><p>¬© 2003-<!-- -->2024<!-- --> 0xADADA (unless otherwise noted.)<br/><span class="h-card"><span class="p-note" hidden="">0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí</span><a class="u-url u-uid" title="0xADADA" href="https://0xadada.pub/">0xADADA</a> <a class="c-Meta u-email" rel="me" title="0xADADA" href="mailto:0xadada.pub@protonmail.com">Email</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Warpcast" href="https://warpcast.com/0xadada">Farcaster</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Mastodon" href="https://mastodon.cloud/@0xADADA">Mastodon</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Bluesky" href="https://bsky.app/profile/0xadada.bsky.social">Bluesky</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Twitter" href="https://twitter.com/0xadada"><del>Twitter</del></a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on GitHub" href="https://github.com/0xadada">GitHub</a> <a class="u-url" rel="me nofollow external noopener" title="0xADADA on Goodreads" href="https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted">Goodreads</a> <a href="/colophon/">Colophon</a> <a href="/rss.xml">RSS</a> <img alt="0xADADA icon" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="u-photo" style="color:transparent;margin-bottom:-0.125rem" src="/static/images/meta/avatar.svg"/></span></p></nav><form action="https://buttondown.email/api/emails/embed-subscribe/0xadada" method="post" target="popupwindow"><label for="email">Sign up to get emailed when I write new things:<!-- --> </label><input type="email" id="email" name="email"/><input type="submit" value="Subscribe"/></form></footer><script src="/_next/static/chunks/webpack-5ed700fd97535a56.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/26856a373ee2679e.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/01f63581d77a7b07.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[5250,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"931\",\"static/chunks/app/page-84b663e6d1625d16.js\"],\"\"]\nb:I[1749,[\"250\",\"static/chunks/250-d7e0a94ebe194dac.js\",\"749\",\"static/chunks/749-1aefd436964833c3.js\",\"185\",\"static/chunks/app/layout-5fcb3f4f951ab0d9.js\"],\"Image\"]\nd:I[8955,[],\"\"]\n8:[\"slug\",\"2018/10/18/chainable-n-args-sum-function\",\"c\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/26856a373ee2679e.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"s3RUNQZL6ZEmXOSdfbO1v\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/2018/10/18/chainable-n-args-sum-function/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"2018/10/18/chainable-n-args-sum-function\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2018\\\",\\\"10\\\",\\\"18\\\",\\\"chainable-n-args-sum-function\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"2018/10/18/chainable-n-args-sum-function\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/01f63581d77a7b07.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en-US\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"main\",null,{\"className\":\"layout_layout__dCqca\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"footer_footer__woFMY layout_layout__dCqca\",\"children\":[[\"$\",\"nav\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"¬© 2003-\",\"2024\",\" 0xADADA (unless otherwise noted.)\",[\"$\",\"br\",null,{}],[\"$\",\"span\",null,{\"className\":\"h-card\",\"children\":[[\"$\",\"span\",null,{\"className\":\"p-note\",\"hidden\":true,\"children\":\"0xADADA is a Software Engineer / Writer / Motorsports Driver exploring the impact of the attention economy on idleness, time, and lived experience. üßë‚Äçüíªüîßüöó‚úçÔ∏èüîí\"}],[\"$\",\"$La\",null,{\"className\":\"u-url u-uid\",\"href\":\"https://0xadada.pub/\",\"title\":\"0xADADA\",\"children\":\"0xADADA\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"mailto:0xadada.pub@protonmail.com\",\"className\":\"c-Meta u-email\",\"rel\":\"me\",\"title\":\"0xADADA\",\"children\":\"Email\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://warpcast.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Warpcast\",\"children\":\"Farcaster\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://mastodon.cloud/@0xADADA\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Mastodon\",\"children\":\"Mastodon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://bsky.app/profile/0xadada.bsky.social\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Bluesky\",\"children\":\"Bluesky\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Twitter\",\"children\":[\"$\",\"del\",null,{\"children\":\"Twitter\"}]}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/0xadada\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on GitHub\",\"children\":\"GitHub\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://www.goodreads.com/review/list/60524683-0xadada?shelf=wanted\",\"className\":\"u-url\",\"rel\":\"me nofollow external noopener\",\"title\":\"0xADADA on Goodreads\",\"children\":\"Goodreads\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/colophon/\",\"children\":\"Colophon\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"/rss.xml\",\"children\":\"RSS\"}],\" \",[\"$\",\"$Lb\",null,{\"className\":\"u-photo\",\"src\":\"/static/images/meta/avatar.svg\",\"alt\":\"0xADADA icon\",\"width\":\"20\",\"height\":\"20\",\"style\":{\"marginBottom\":\"-0.125rem\"}}]]}]]}]}],[\"$\",\"form\",null,{\"action\":\"https://buttondown.email/api/emails/embed-subscribe/0xadada\",\"method\":\"post\",\"target\":\"popupwindow\",\"children\":[[\"$\",\"label\",null,{\"htmlFor\":\"email\",\"children\":[\"Sign up to get emailed when I write new things:\",\" \"]}],[\"$\",\"input\",null,{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\"}],[\"$\",\"input\",null,{\"type\":\"submit\",\"value\":\"Subscribe\"}]]}]]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"f:T419,"])</script><script>self.__next_f.push([1,"function test(conditions) {\n  conditions.forEach(([msg, cFn], i) =\u003e {\n    const result = cFn();\n    console.log(`${i} ${result ? \"‚úÖ\" : \"üö´\"} ${msg}`);\n    console.assert(cFn(), msg);\n  });\n  console.log(`${conditions.length} tests completed`);\n}\n\nlet conditions = [\n  [\"sum() returns 0\", () =\u003e sum() == 0],\n  [\"sum()() returns 0\", () =\u003e sum()() == 0],\n  ['typeof sum() returns \"function\"', () =\u003e typeof sum() == \"function\"],\n  [\n    'typeof sum().valueOf() returns \"number\"',\n    () =\u003e typeof sum().valueOf() == \"number\",\n  ],\n  [\"sum(0) returns 0\", () =\u003e sum(0) == 0],\n  [\"sum(0)(0) returns 0\", () =\u003e sum(0)(0) == 0],\n  [\"sum()(1) returns 1\", () =\u003e sum()(1) == 1],\n  [\"sum(1,2) returns 3\", () =\u003e sum(1, 2) == 3],\n  [\"sum(1,2,3) returns 6\", () =\u003e sum(1, 2, 3) == 6],\n  [\"sum(1,2,3)() returns 6\", () =\u003e sum(1, 2, 3)() == 6],\n  [\"sum(1,2,3)(1) returns 7\", () =\u003e sum(1, 2, 3)(1) == 7],\n  [\"sum(1,2,3)(1) returns 7\", () =\u003e sum(1, 2, 3)(1) == 7],\n  [\"sum(1,2,3)(1,2) returns 9\", () =\u003e sum(1, 2, 3)(1, 2) == 9],\n];\n\ntest(conditions); // run the tests\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"hentry h-entry\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"entry-title p-name\",\"children\":\"An Interview Question: Write a chainable n-argument sum function\"}],\"$undefined\",[\"$\",\"time\",null,{\"className\":\"display-date_published__A_L_d dt-published\",\"dateTime\":\"2018-10-18T00:00:00.000Z\",\"children\":\"Thursday October 18, 2018\"}],[\"$\",\"span\",null,{\"className\":\"h-card page_byline__wbXsN\",\"children\":[\" by \",[\"$\",\"span\",null,{\"className\":\"fn p-author p-name\",\"children\":\"0xADADA\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"entry-content e-content\",\"children\":[[\"$\",\"p\",null,{\"children\":\"I came across an interesting interview question, along the lines of\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"‚ÄùHow would you make this work?‚Äù\"}],\"\\n\",[\"$\",\"figcaption\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://hojberg.xyz/\",\"children\":\"Simon H√∏jberg\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"add(2, 5); // multiple arguments style\\n\u003e 7\\nadd(2)(5); // currying, a chained invocation style\\n\u003e 7\\nadd(1,2)(3,4) // both\\n\u003e 10\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I thought this was a very interesting question, so took some time to\\nimplement a multi-argument / curried function.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Heres what I got:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A solution to the multiple argument style is straightforward, theres just the bit to\\nchange \",[\"$\",\"code\",null,{\"children\":\"arguments\"}],\" into an Array, and to handle the case when nothing is\\npassed in.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"let sum = function () {\\n  let args = arguments.length ? Array.from(arguments) : [0]; // convert arguments to array for .reduce\\n  return args.reduce((acc, i) =\u003e (acc += i));\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now, to get chained invocation style to work, I used \",[\"$\",\"code\",null,{\"children\":\"bind\"}],\" to generate a new function\\nthat would be returned to the caller, allowing for chained invocation. The\\ntricky bit is to set the \",[\"$\",\"code\",null,{\"children\":\"valueOf\"}],\" function to return the sum, so when checked\\nfor a value, the function returns a number.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Thus:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"let sum = function () {\\n  let args = arguments.length ? Array.from(arguments) : [0]; // see (a)\\n  let sum = args.reduce((acc, i) =\u003e (acc += i));\\n  let f = sum.bind(null, sum); // see (b)\\n  f.valueOf = () =\u003e sum; // see (c)\\n  return f;\\n};\\n/* (a)\\n * [0, ...arguments] will convert arguments to an Array\\n * to allow the `reduce`. It will also create an initial item\\n * `0` to handle the case no arguments are passed in. Thus\\n * making `sumChainable()` possible.\\n *\\n * (b)\\n * Generate a nested arrow function that will be returned, and pass\\n * the sum to it. This allows the return value of the function\\n * to be invoked in a chain, each changed invocation passing\\n * the sum of its caller. Thus `sumChainable()()` is possible.\\n *\\n * (c)\\n * Setting the `valueOf()` function on the returned function to\\n * return the sum allows the comparison operator `==` to check\\n * the value of the function against a number. Thus making operations\\n * like `sumChainable() == 0` and `sumChainable(1, 1) + 2 == 4` possible.\\n */\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"We can clean up this code by using the \",[\"$\",\"code\",null,{\"children\":\"...\"}],\" rest parameters.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"function sum(...args) {\\n  const value = args.reduce((acc, a) =\u003e acc + a, 0);\\n  const f = sum.bind(null, value);\\n  f.valueOf = () =\u003e value;\\n  return f;\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"added a function to run test conditions, and defined some tests:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"$f\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"viola!\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Future improvements would be to get strict equality \",[\"$\",\"code\",null,{\"children\":\"===\"}],\" operator to recognize the result\\nas type \",[\"$\",\"code\",null,{\"children\":\"number\"}],\" rather than type \",[\"$\",\"code\",null,{\"children\":\"function\"}],\", but Javascript doesn‚Äôt have a way to override operations.\\nWe can also change the API slightly by\\ninvoking \",[\"$\",\"code\",null,{\"children\":\".valueOf()\"}],\" at the end of the invocation chain to yield a \",[\"$\",\"code\",null,{\"children\":\"number\"}],\" primative value.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// test for strict equality using .valueOf()\\nconsole.log(\\n  `sum(1,2,3)(4,5)(6).valueOf()`,\\n  sum(1, 2, 3)(4, 5)(6).valueOf() === 21 ? \\\"passed\\\" : \\\"failed\\\",\\n);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"future would would be to get working:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"console.log(\\n  `typeof sumChainable(1) === 'number'`,\\n  typeof sumChainable(1) === `number` ? \\\"passed\\\" : \\\"failed\\\",\\n);\\n\"}]}]]}],[\"$\",\"footer\",null,{\"className\":\"license_copyright__EpMnZ\",\"children\":[\"This is licensed under a Creative Commons \",\"cc-by-nc-sa\",\" International License\"]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"An Interview Question: Write a chainable n-argument sum function\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Writing a javascript function to sum multiple inputs with chainable invocation.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://0xadada.pub\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"projects,open-source,javascript\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://0xadada.pub/rss.xml\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:title\",\"content\":\"An Interview Question: Write a chainable n-argument sum function\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:description\",\"content\":\"Writing a javascript function to sum multiple inputs with chainable invocation.\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:url\",\"content\":\"https://0xadada.pub/2018/10/18/chainable-n-args-sum-function/\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:site_name\",\"content\":\"0xADADA\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"660\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"An Interview Question: Write a chainable n-argument sum function\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Writing a javascript function to sum multiple inputs with chainable invocation.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://0xadada.pub/static/images/meta/avatar.svg\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:width\",\"content\":\"660\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:height\",\"content\":\"660\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"24\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?b764b3a1dbf00a82\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>